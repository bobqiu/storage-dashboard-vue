(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42a3a359"],{"1aa1b":function(t,e,i){},"1fb8":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"layout-bsc-toolbar layout-legend"},[i("Button",{staticClass:"button-bsc-add-bucket",attrs:{type:"primary"},on:{click:function(e){t.goTemplateEdit("none")}}},[t._v(t._s(t.$t("VIDEO.NEW_TEMPLATE")))]),i("legend-list",{attrs:{data:t.legendList}})],1),i("Table",{attrs:{border:"",context:t.self,stripe:!0,columns:t.listHeader,data:t.templateList,"no-data-text":t.$t("STORAGE.NO_LIST")}}),i("div",{staticClass:"section-paging"},[i("Button",{directives:[{name:"show",rawName:"v-show",value:t.pageToken.length>0,expression:"pageToken.length > 0"}],attrs:{type:"ghost",size:"small"},on:{click:function(e){t.listPresets(),t.pageToken.length=0}}},[t._v(t._s(t.$t("PUBLIC.PAGE_FIRST")))]),i("Button",{directives:[{name:"show",rawName:"v-show",value:t.pageToken.length>0,expression:"pageToken.length > 0"}],attrs:{type:"ghost",size:"small"},on:{click:function(e){t.previousPage()}}},[t._v(t._s(t.$t("PUBLIC.PAGE_PREV")))]),i("Button",{directives:[{name:"show",rawName:"v-show",value:t.nextPageToken,expression:"nextPageToken"}],attrs:{type:"ghost",size:"small"},on:{click:function(e){t.nextPage()}}},[t._v(t._s(t.$t("PUBLIC.PAGE_NEXT")))])],1)],1)},a=[],o=(i("dccb"),i("63af"),i("25d7"),i("9382"),i("b267")),s=(i("cf54"),i("ff66")),r=i("e9b81"),c={components:{legendList:r["a"]},data:function(){var t=this;return{iconSize:18,self:this,templateList:this.templateList,pageToken:[],nextPageToken:"",legendList:[{icon:"ios-trash",text:"PUBLIC.DELETE"}],videoNames:{Codec:this.$t("VIDEO.ENCODING"),Profile:this.$t("VIDEO.CODING_PROFILE"),Level:this.$t("VIDEO.CODING_LEVEL"),KeyframesMaxDist:this.$t("VIDEO.FIXED_KEY_FRAME_SPACING"),BitRate:this.$t("VIDEO.BIT_RATE"),FrameRate:this.$t("VIDEO.FRAME_RATE"),Resolution:this.$t("VIDEO.RESOLUTION"),AspectRatio:this.$t("VIDEO.ASPECT_RATIO")},audioNames:{Codec:this.$t("VIDEO.ENCODING"),Profile:this.$t("VIDEO.CODING_QUALITY"),SampleRate:this.$t("VIDEO.SAMPLE_RATE"),BitRate:this.$t("VIDEO.BIT_RATE"),Channels:this.$t("VIDEO.CHANNELS")},WatermarkConfigNames:{Width:this.$t("VIDEO.WIDTH"),Height:this.$t("VIDEO.HEIGHT"),Location:this.$t("VIDEO.POSITION"),LocationHOffset:this.$t("VIDEO.OFFSET_X"),LocationVOffset:this.$t("VIDEO.OFFSET_Y")},LocationNames:{NorthEast:"右上",North:"中上",NorthWest:"左上",East:"右中",Center:"中心",West:"左中",SouthEast:"右下",South:"中下",SouthWest:"左下"},listHeader:[{title:"ID",width:"75px",key:"id"},{title:this.$t("VIDEO.TEMPLATE_NAME_TABLE"),render:function(t,e){return e.row.description?t("Poptip",{props:{placement:"right",trigger:"hover"}},[t("div",[e.row.name,t("Icon",{props:{type:"ios-information-outline",size:"14"},class:{"icon-disc":!0}})]),t("div",{slot:"content"},e.row.description)]):e.row.name}},{title:this.$t("VIDEO.CONTAINER"),width:"90px",key:"container"},{title:this.$t("VIDEO.VIDEO"),width:"25%",render:function(t,e){return t("Poptip",{props:{placement:"right",trigger:"hover"}},[t("div",e.row.video.map(function(e){return t("Tag",{props:{type:"border"}},"".concat(e.name,":").concat(e.value))})),t("div",{slot:"content"},e.row.videoDetails.map(function(e){return t("p","".concat(e.name,":").concat(e.value))}))])}},{title:this.$t("VIDEO.AUDIO"),width:"20%",render:function(t,e){return t("Poptip",{props:{placement:"right",trigger:"hover"}},[t("div",e.row.audio.map(function(e){return t("Tag",{props:{type:"border"}},"".concat(e.name,":").concat(e.value))})),t("div",{slot:"content"},e.row.audioDetails.map(function(e){return t("p","".concat(e.name,":").concat(e.value))}))])}},{title:this.$t("VIDEO.WATERMARK"),width:"25%",render:function(t,e){return t("div",e.row.WatermarkConfig.map(function(e){return t("Tag",{props:{type:"border"}},"".concat(e.name,":").concat(e.value))}))}},{title:this.$t("VIDEO.OPERATION"),key:"actions",width:"105px",align:"right",render:function(e,i){return e("div",[e("Tooltip",{props:{content:t.$t("PUBLIC.EDIT"),delay:500,placement:"top"},class:{"mar-r-8":!0}},[e("i-button",{props:{size:"small"},on:{click:function(){t.goTemplateEdit(i.row.id)}}},[e("Icon",{props:{type:"compose",size:t.iconSize}})])]),e("Tooltip",{props:{content:t.$t("PUBLIC.DELETE"),delay:1e3,placement:"top"}},[e("i-button",{props:{size:"small"},on:{click:function(){t.deletePresetConfirm(i.row)}}},[e("Icon",{props:{type:"ios-trash",size:t.iconSize}})])])])}}]}},created:function(){this.listPresets()},methods:{listPresets:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.$Loading.start(),e){t.next=8;break}return t.next=5,Object(s["e"])("listPresets");case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,Object(s["e"])("listPresets",{PageToken:e});case 10:t.t0=t.sent;case 11:return i=t.t0,i.Presets.length||this.$Message.warning(this.$t("VIDEO.NO_DATA")),t.next=15,this.convert2Front(i.Presets);case 15:this.templateList=t.sent,this.nextPageToken=i.NextPageToken,this.$Loading.finish(),t.next=23;break;case 20:t.prev=20,t.t1=t["catch"](0),this.$Loading.error();case 23:case"end":return t.stop()}},t,this,[[0,20]])}));return function(e){return t.apply(this,arguments)}}(),previousPage:function(){var t=this.pageToken[this.pageToken.length-2];this.pageToken.pop(),this.listPresets(t)},nextPage:function(){this.nextPageToken&&this.pageToken.push(this.nextPageToken),this.listPresets(this.nextPageToken)},goTemplateEdit:function(t){this.$router.push({name:"TemplateEdit",params:{id:t}})},deletePreset:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.$Loading.start(),t.next=4,Object(s["e"])("deletePreset",{Id:e.id},this.$t("VIDEO.TEMPLATE_DELETED_ERROR"));case 4:this.templateList.splice(e._index,1),this.$Loading.finish(),this.$Message.success(this.$t("VIDEO.DELETED_SUCCESSFULLY")),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),this.$Loading.error();case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}(),convert2Front:function(t){var e=this,i=[];return t.forEach(function(t){var n=t.Video,a=t.Audio,o=t.WatermarkConfig?{Width:t.WatermarkConfig.Width&&0!==t.WatermarkConfig.Width&&"0"!==t.WatermarkConfig.Width&&"0"!==t.WatermarkConfig.Height&&0!==t.WatermarkConfig.Height?t.WatermarkConfig.Width:"图片宽度",Height:t.WatermarkConfig.Height&&0!==t.WatermarkConfig.Width&&"0"!==t.WatermarkConfig.Width&&"0"!==t.WatermarkConfig.Height&&0!==t.WatermarkConfig.Height?t.WatermarkConfig.Height:"图片高度",Location:t.WatermarkConfig.Location?e.LocationNames[t.WatermarkConfig.Location]:"右上",LocationHOffset:t.WatermarkConfig.LocationHOffset?"".concat(t.WatermarkConfig.LocationHOffset,"px"):"0px",LocationVOffset:t.WatermarkConfig.LocationVOffset?"".concat(t.WatermarkConfig.LocationVOffset,"px"):"0px"}:p,s={id:t.Id,description:t.Description,name:t.Name,container:t.Container,video:[],audio:[],videoDetails:[],audioDetails:[],WatermarkConfig:[]};_.forEach(n,function(t,i){"FixedGOP"===i||("CodecOptions"===i?_.forEach(t,function(t,i){s.videoDetails.push({name:e.videoNames[i],value:t})}):l.includes(i)?(s.video.push({name:e.videoNames[i],value:t}),s.videoDetails.push({name:e.videoNames[i],value:t})):s.videoDetails.push({name:e.videoNames[i],value:t}))}),_.forEach(a,function(t,i){"CodecOptions"===i?_.forEach(t,function(t,i){s.audioDetails.push({name:e.audioNames[i],value:t})}):u.includes(i)?(s.audio.push({name:e.audioNames[i],value:t}),s.audioDetails.push({name:e.audioNames[i],value:t})):s.audioDetails.push({name:e.audioNames[i],value:t})}),_.forEach(o,function(t,i){s.WatermarkConfig.push({name:e.WatermarkConfigNames[i],value:t})}),a.CodecOptions&&a.CodecOptions.Profile&&(s.audio.profile={name:e.$t("VIDEO.CODING_QUALITY"),value:a.CodecOptions.Profile}),i.push(s)}),i},deletePresetConfirm:function(t){var e=this;this.$Modal.confirm({content:this.$t("STORAGE.DELETE_CONFIRMED",{fileName:t.name}),okText:this.$t("PUBLIC.CONFIRMED"),cancelText:this.$t("PUBLIC.CANCLE"),title:this.$t("PUBLIC.DELETE"),onOk:function(){return e.deletePreset(t)}})}}},l=["Codec","FrameRate","Resolution","BitRate","AspectRatio"],u=["Codec","SampleRate","Channels","BitRate"],p={Height:"图片高度",Width:"图片宽度",Location:"右上",LocationHOffset:"0px",LocationVOffset:"0px"},h=c,d=(i("d9f5"),i("048f")),f=Object(d["a"])(h,n,a,!1,null,null,null);f.options.__file="TemplateList.vue";e["default"]=f.exports},"3b9f":function(t,e,i){},a046:function(t,e,i){"use strict";var n=i("1aa1b"),a=i.n(n);a.a},d9f5:function(t,e,i){"use strict";var n=i("3b9f"),a=i.n(n);a.a},e9b81:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bsc-legend"},t._l(t.data,function(e){return i("div",{key:e.text,staticClass:"legend-item"},[i("Icon",{attrs:{type:e.icon,size:"14"}}),i("span",{staticClass:"legend-text"},[t._v(t._s(t.$t(e.text)))]),e!==t.data[t.data.length-1]?i("span",{staticClass:"legend-separator"},[t._v("|")]):t._e()],1)}))},a=[],o={props:["data"]},s=o,r=(i("a046"),i("048f")),c=Object(r["a"])(s,n,a,!1,null,"ea96999c",null);c.options.__file="legend.vue";e["a"]=c.exports}}]);