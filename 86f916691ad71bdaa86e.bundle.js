(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd45"],{"0e7f":function(t,e,r){},"5d5f":function(t,e,r){"use strict";var i=r("a3b5"),n=r.n(i);n.a},"752a":function(t,e,r){"use strict";r.d(e,"t",function(){return l}),r.d(e,"j",function(){return p}),r.d(e,"u",function(){return d}),r.d(e,"c",function(){return f}),r.d(e,"f",function(){return _}),r.d(e,"g",function(){return h}),r.d(e,"h",function(){return g}),r.d(e,"v",function(){return v}),r.d(e,"l",function(){return b}),r.d(e,"p",function(){return m}),r.d(e,"q",function(){return S}),r.d(e,"s",function(){return T}),r.d(e,"r",function(){return k}),r.d(e,"o",function(){return w}),r.d(e,"n",function(){return y}),r.d(e,"m",function(){return L}),r.d(e,"k",function(){return x}),r.d(e,"e",function(){return E}),r.d(e,"a",function(){return $}),r.d(e,"b",function(){return N}),r.d(e,"i",function(){return O}),r.d(e,"d",function(){return A}),r.d(e,"y",function(){return I}),r.d(e,"A",function(){return C}),r.d(e,"x",function(){return F}),r.d(e,"z",function(){return M}),r.d(e,"w",function(){return R});var i=r("dd1f"),n="".concat(location.protocol,"//"),s="/v2/",a="/2012-09-25/",c=function(t){return n+i["a"].apiHost+s+t},o=function(t){return n+i["a"].transcoderHOST+a+t},u=function(t){return n+i["a"].imgxHOST+t},l=c("superuser/redirect/bucket"),p=c("node/list"),d=(c("list/partition"),c("user/list/sub")),f=(c("user/create/sub_user"),c("user/list/sub_acl"),c("user/update/sub_acl"),c("user/create/user"),c("user/list/bound_user")),_=(c("user/list/user"),c("user/bind/user"),c("user/unbind/user"),c("group/list")),h=c("group/move"),g=c("group/read_only"),v=c("traffic/list"),b=c("partition/used/stats"),m=c("partition/used/detail"),S=c("partition/used/list"),T=c("partition/used/set"),k=c("partition/used/move"),w=c("partition/used/delete"),y=c("partition/unused/list"),L=c("partition/unused/add"),x=c("partition/deleted/list"),E=c("retrieve"),$=c("access"),N=c("user/add/service"),O=u("/image-example/"),A=c("custom_domain"),I=function(t){return c("bill/transcode".concat(t))},C=function(t){return o(t)},F=function(t){return c("bill/storage_old".concat(t))},M=function(t){return c("bill/storage".concat(t))},R=function(t){return c("bill/storage_bandwidth".concat(t))}},"9df6":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bsc-system bsc-traffic"},[r("legend-list",{attrs:{data:t.legendList}}),r("div",{staticClass:"header"},[r("div",{staticClass:"search",on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.getFilterTrafficList(!0)}}},[r("Select",{staticStyle:{width:"180px","margin-right":"8px"},attrs:{prepend:!0},model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},[r("Icon",{attrs:{slot:"prepend",size:"18",type:"ios-grid-view"},slot:"prepend"}),r("Option",{attrs:{value:"group_id"}},[t._v("Group ID")]),r("Option",{attrs:{value:"server_ip"}},[t._v("Server IP")]),r("Option",{attrs:{value:"partition_id"}},[t._v("Partition ID")])],1),r("Input",{staticStyle:{width:"260px"},attrs:{placeholder:t.$t("SYSTEM.PLEASE_ENTER")+t.searchType},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),r("Button",{attrs:{type:"primary"},on:{click:function(e){t.getFilterTrafficList(!0)}}},[t._v(t._s(t.$t("SYSTEM.SEARCH")))])],1),r("div",{staticClass:"status"},[r("span",{staticClass:"group-status-prefix"},[t._v(t._s(t.$t("SYSTEM.GROUP_STATUS"))+" :")]),r("button",{class:{statusButtonFocus:"group_all"===t.tabName},on:{click:function(e){t.tabName="group_all",t.getFilterTrafficList()}}},[t._v(t._s(t.$t("SYSTEM.ALL")))]),r("button",{class:{statusButtonFocus:"preparing"===t.tabName},on:{click:function(e){t.tabName="preparing",t.getFilterTrafficList()}}},[t._v("preparing")]),r("button",{class:{statusButtonFocus:"moving"===t.tabName},on:{click:function(e){t.tabName="moving",t.getFilterTrafficList()}}},[t._v("moving")]),r("button",{class:{statusButtonFocus:"finished"===t.tabName},on:{click:function(e){t.tabName="finished",t.getFilterTrafficList()}}},[t._v("finished")]),r("div",{staticClass:"refresh-section"},[r("span",{on:{click:function(e){t.refresh()}}},[r("Icon",{attrs:{type:"refresh",size:"20"}})],1)])])]),r("div",{staticClass:"content"},[t.spinShow?r("Spin",{attrs:{size:"bigger",fix:""}}):t._e(),r("Table",{attrs:{border:"",context:t.self,stripe:!0,columns:t.listHeader,data:t.trafficList,"no-data-text":t.$t("STORAGE.NO_LIST")}})],1)],1)},n=[],s=(r("ac6a"),r("96cf"),r("3040")),a=r("752a"),c=r("e9b8"),o={components:{legendList:c["a"]},data:function(){return{self:this,searchType:"group_id",searchValue:"",spinShow:!0,tabName:"group_all",trafficListAll:[],trafficList:[],legendList:[{text:"group:存储单元"},{text:"server:服务器"},{text:"partition:磁盘"}],listHeader:[{title:"Group ID",key:"group_id",width:150},{title:this.$t("SYSTEM.PROGRESS"),key:"process_percent",width:150,sortable:!0,render:function(t,e){return t("Progress",{props:{percent:e.row.process_percent}})}},{title:this.$t("SYSTEM.TIME_SPENT"),key:"spent_time",width:150},{title:this.$t("SYSTEM.REMAINING_TIME"),key:"left_time",width:150,sortable:!0,sortMethod:function(t,e,r){return t.length!==e.length?"asc"===r?t.length-e.length:e.length-t.length:"asc"===r?t>e?1:-1:t<e?1:-1}},{title:this.$t("SYSTEM.GROUP_STATUS"),key:"group_status",width:150},{title:this.$t("SYSTEM.SOURCE_DISK"),key:"source_disk",width:200,render:function(t,e){return t("div",{style:{padding:"8px 0"}},e.row.source_disk.map(function(e){return[t("Tooltip",{props:{content:e[2],placement:"top-end"}},[t("div",{style:{margin:"2px 0"}},"".concat(e[0],":/s2/drive/").concat(e[1]))]),t("br")]}))}},{title:this.$t("SYSTEM.TARGET_DISK"),key:"target_disk",width:200,render:function(t,e){return t("Tooltip",{props:{content:e.row.target_disk[2],placement:"top-end"}},"".concat(e.row.target_disk[0],":/s2/drive/").concat(e.row.target_disk[1]))}}]}},created:function(){this.getTrafficList()},methods:{getTrafficList:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,r,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]&&i[0],this.spinShow=!0,this.$Loading.start(),t.prev=3,t.next=6,this.$http.get(a["v"]);case 6:r=t.sent,this.trafficListAll=this.convert2Front(r),e||(this.trafficList=this.trafficListAll),this.spinShow=!1,this.$Loading.finish(),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](3),this.spinShow=!1,this.$Loading.error();case 17:case"end":return t.stop()}},t,this,[[3,13]])}));return function(){return t.apply(this,arguments)}}(),convert2Front:function(t){var e=[];return _.forEach(t,function(t,r){var i={group_id:r,process_percent:t.process?t.process:0,spent_time:t.spent_time?t.spent_time:"-",left_time:t.left_time?t.left_time:"-",group_status:t.step,src_server_ip:t.src_node_ip,src_partition_id:t.src_partition_id,source_disk:t.src_node_ip.map(function(e,r){return[e,t.src_partition_paths[r].slice(-3),t.src_partition_id[r]]}),target_disk:[t.target_node_ip?t.target_node_ip[0]:"-",t.target_partition_path?t.target_partition_path.slice(-3):"-",t.target_partition_id?t.target_partition_id:"-"]};e.push(i)}),e},getFilterTrafficList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.tabName="group_all");var r="group_id"===this.searchType?this.trafficListAll.filter(function(e){return e.group_id>=t.searchValue}):this.searchValue?this.trafficListAll.filter(function(e){return"server_ip"===t.searchType?e.src_server_ip.indexOf(t.searchValue)>=0:e.src_partition_id.indexOf(t.searchValue)>=0}):this.trafficListAll;this.trafficList="group_all"===this.tabName?r:r.filter(function(e){return e.group_status===t.tabName})},refresh:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getTrafficList(!0);case 2:this.getFilterTrafficList();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},u=o,l=(r("5d5f"),r("2877")),p=Object(l["a"])(u,i,n,!1,null,"39976103",null);p.options.__file="Traffic.vue";e["default"]=p.exports},a046:function(t,e,r){"use strict";var i=r("0e7f"),n=r.n(i);n.a},a3b5:function(t,e,r){},e9b8:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bsc-legend"},t._l(t.data,function(e){return r("div",{key:e.text,staticClass:"legend-item"},[r("Icon",{attrs:{type:e.icon,size:"14"}}),r("span",{staticClass:"legend-text"},[t._v(t._s(t.$t(e.text)))]),e!==t.data[t.data.length-1]?r("span",{staticClass:"legend-separator"},[t._v("|")]):t._e()],1)}))},n=[],s={props:["data"]},a=s,c=(r("a046"),r("2877")),o=Object(c["a"])(a,i,n,!1,null,"ea96999c",null);o.options.__file="legend.vue";e["a"]=o.exports}}]);