(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-731f","chunk-98ac"],{"0398":function(t,e,s){"use strict";var i=s("8de7"),a=s.n(i);a.a},"0a49":function(t,e,s){var i=s("9b43"),a=s("626a"),n=s("4bf8"),r=s("9def"),o=s("cd1c");t.exports=function(t,e){var s=1==t,c=2==t,l=3==t,u=4==t,d=6==t,p=5==t||d,h=e||o;return function(e,o,f){for(var m,_,E=n(e),b=a(E),T=i(o,f,3),v=r(b.length),C=0,S=s?h(e,v):c?h(e,0):void 0;v>C;C++)if((p||C in b)&&(m=b[C],_=T(m,C,E),t))if(s)S[C]=_;else if(_)switch(t){case 3:return!0;case 5:return m;case 6:return C;case 2:S.push(m)}else if(u)return!1;return d?-1:l||u?u:S}}},"0e7f":function(t,e,s){},1169:function(t,e,s){var i=s("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"16de":function(t,e,s){},"205d":function(t,e,s){},"20d6":function(t,e,s){"use strict";var i=s("5ca1"),a=s("0a49")(6),n="findIndex",r=!0;n in[]&&Array(1)[n](function(){r=!1}),i(i.P+i.F*r,"Array",{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(n)},"3b2b":function(t,e,s){var i=s("7726"),a=s("5dbc"),n=s("86cc").f,r=s("9093").f,o=s("aae3"),c=s("0bfb"),l=i.RegExp,u=l,d=l.prototype,p=/a/g,h=/a/g,f=new l(p)!==p;if(s("9e1e")&&(!f||s("79e5")(function(){return h[s("2b4c")("match")]=!1,l(p)!=p||l(h)==h||"/a/i"!=l(p,"i")}))){l=function(t,e){var s=this instanceof l,i=o(t),n=void 0===e;return!s&&i&&t.constructor===l&&n?t:a(f?new u(i&&!n?t.source:t,e):u((i=t instanceof l)?t.source:t,i&&n?c.call(t):e),s?this:d,l)};for(var m=function(t){t in l||n(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},_=r(u),E=0;_.length>E;)m(_[E++]);d.constructor=l,l.prototype=d,s("2aba")(i,"RegExp",l)}s("7a56")("RegExp")},"40e0":function(t,e,s){"use strict";var i=s("b37a"),a=s.n(i);a.a},"4c45":function(t,e,s){},5292:function(t,e,s){"use strict";var i=s("f333"),a=s.n(i);a.a},7514:function(t,e,s){"use strict";var i=s("5ca1"),a=s("0a49")(5),n="find",r=!0;n in[]&&Array(1)[n](function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(n)},"79fd":function(t,e,s){"use strict";var i=s("4c45"),a=s.n(i);a.a},"8afe":function(t,e,s){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,s=new Array(t.length);e<t.length;e++)s[e]=t[e];return s}}function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){return i(t)||a(t)||n()}s.d(e,"a",function(){return r})},"8baa":function(t,e,s){"use strict";var i=s("fae5"),a=s.n(i);a.a},"8de7":function(t,e,s){},9093:function(t,e,s){var i=s("ce10"),a=s("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},9257:function(t,e,s){"use strict";var i=s("16de"),a=s.n(i);a.a},"977e":function(t,e,s){"use strict";var i=s("205d"),a=s.n(i);a.a},a046:function(t,e,s){"use strict";var i=s("0e7f"),a=s.n(i);a.a},acc6:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.classes},[t._t("default")],2)},a=[],n=(s("ac6a"),"bsc-breadcrumb"),r={name:"bscBreadcrumb",props:{separator:{type:String,default:"/"}},computed:{classes:function(){return"".concat(n)}},watch:{separator:function(){this.updateChildren()}},mounted:function(){this.updateChildren()},updated:function(){var t=this;this.$nextTick(function(){t.updateChildren()})},methods:{updateChildren:function(){var t=this;this.$children.forEach(function(e){e.separator=t.separator})}}},o=r,c=(s("9257"),s("2877")),l=Object(c["a"])(o,i,a,!1,null,null,null);l.options.__file="breadcrumb.vue";var u=l.exports,d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t.href?s("a",{class:t.linkClasses,on:{click:t.handleClick}},[t._t("default")],2):s("span",{class:t.linkClasses},[t._t("default")],2),t.showSeparator?s("span",{class:t.separatorClasses},[t._t("separator")],2):s("span",{class:t.separatorClasses,domProps:{innerHTML:t._s(t.separator)}})])},p=[],h=(s("a481"),s("cadf"),s("551c"),s("097d"),"bsc-breadcrumb-item"),f={name:"BscBreadcrumbItem",props:{href:{type:String},replace:{type:Boolean,default:!1}},data:function(){return{separator:"",showSeparator:!1}},computed:{linkClasses:function(){return"".concat(h,"-link")},separatorClasses:function(){return"".concat(h,"-separator")}},mounted:function(){this.showSeparator=void 0!==this.$slots.separator},methods:{handleClick:function(){var t=this.$router;t?this.replace?this.$router.replace(this.href):this.$router.push(this.href):window.location.href=this.href}}},m=f,_=Object(c["a"])(m,d,p,!1,null,null,null);_.options.__file="breadcrumb-item.vue";var E=_.exports;u.Item=E;e["a"]=u},b37a:function(t,e,s){},cd1c:function(t,e,s){var i=s("e853");t.exports=function(t,e){return new(i(t))(e)}},cdc6:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bsc-settings"},[s("div",{staticClass:"layout-bsc-toolbar"},[s("a",{staticClass:"btn-back",on:{click:function(e){t.back()}}},[s("Icon",{attrs:{type:"chevron-left"}})],1),s("bsc-breadcrumb",[s("bsc-breadcrumb-item",{attrs:{href:t.bucketPath}},[t._v(t._s(t.$t("STORAGE.TITLE")))]),s("bsc-breadcrumb-item",[t._v(t._s(t.$t("STORAGE.BUCKET_SETTING"))+" ("+t._s(t.bucket)+")")])],1)],1),s("Tabs",{attrs:{size:"small",animated:!1},on:{"on-click":t.tabChange},model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},[s("Tab-pane",{attrs:{label:t.$t("PUBLIC.ACL"),name:"permission"}},[s("div",{staticClass:"section-separator"},[s("div",{staticClass:"separator-body"},[s("span",{staticClass:"separator-icon"}),s("span",{staticClass:"separator-info"},[t._v(t._s(t.$t("STORAGE.ACL_USER_GROUP")))])])]),s("table",{staticClass:"table-permission"},[s("thead",[s("tr",[s("th",{staticClass:"percent20"},[t._v(t._s(t.$t("STORAGE.ACL_GROUP"))+"\n              "),s("Tooltip",{attrs:{placement:"right"}},[s("span",[s("Icon",{attrs:{type:"ios-help-outline"}})],1),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"white-space":"normal !important"}},[t._v(t._s(t.$t("STORAGE.ACL_GROUP_INFO")))])])])],1),s("th",{staticClass:"percent30"},[t._v(t._s(t.$t("STORAGE.OBJECT_PERMISSIONS"))+"\n              "),s("Tooltip",{attrs:{placement:"right"}},[s("span",[s("Icon",{attrs:{type:"ios-help-outline"}})],1),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"white-space":"normal !important"}},[t._v(t._s(t.$t("STORAGE.BUCKET_OBJECT_PERMISSIONS_INFO")))])])])],1),s("th",{staticClass:"percent30"},[t._v(t._s(t.$t("STORAGE.ACL_PERMISSIONS"))+"\n              "),s("Tooltip",{attrs:{placement:"right"}},[s("span",[s("Icon",{attrs:{type:"ios-help-outline"}})],1),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"white-space":"normal !important"}},[t._v(t._s(t.$t("STORAGE.BUCKET_ACL_PERMISSIONS_INFO")))])])])],1),s("th",{staticClass:"percent20"})])]),s("tbody",t._l(t.GroupACLList,function(e){return s("tr",{key:e.Grantee.ID},[s("td",[t._v("\n              "+t._s(t._f("userType")(e.Grantee))+"\n            ")]),s("td",[s("Checkbox",{model:{value:e.Permission.READ,callback:function(s){t.$set(e.Permission,"READ",s)},expression:"item.Permission.READ"}},[t._v(t._s(t.$t("STORAGE.READ")))]),s("Checkbox",{model:{value:e.Permission.WRITE,callback:function(s){t.$set(e.Permission,"WRITE",s)},expression:"item.Permission.WRITE"}},[t._v(t._s(t.$t("STORAGE.WRITE")))])],1),s("td",[s("Checkbox",{model:{value:e.Permission.READ_ACP,callback:function(s){t.$set(e.Permission,"READ_ACP",s)},expression:"item.Permission.READ_ACP"}},[t._v(t._s(t.$t("STORAGE.READ")))]),s("Checkbox",{model:{value:e.Permission.WRITE_ACP,callback:function(s){t.$set(e.Permission,"WRITE_ACP",s)},expression:"item.Permission.WRITE_ACP"}},[t._v(t._s(t.$t("STORAGE.WRITE")))])],1),s("td",[s("Button",{staticStyle:{margin:"0 6px",visibility:"hidden"},attrs:{size:"small"}},[s("Icon",{attrs:{type:"ios-plus",size:t.iconSize}})],1),s("Button",{staticStyle:{margin:"0 6px",visibility:"hidden"},attrs:{size:"small"}},[s("Icon",{attrs:{type:"ios-minus",size:t.iconSize}})],1)],1)])}))]),s("div",{staticClass:"section-separator"},[s("div",{staticClass:"separator-body"},[s("span",{staticClass:"separator-icon"}),s("span",{staticClass:"separator-info"},[t._v(t._s(t.$t("STORAGE.ACL_USER")))])])]),s("table",{staticClass:"table-permission"},[s("thead",[s("tr",[s("th",{staticClass:"percent20"},[t._v(" "+t._s(t.$t("STORAGE.USER"))+"\n              "),s("Tooltip",{attrs:{placement:"right"}},[s("span",[s("Icon",{attrs:{type:"ios-help-outline"}})],1),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"white-space":"normal !important"}},[t._v(t._s(t.$t("STORAGE.ACL_USER_INFO")))])])])],1),s("th",{staticClass:"percent30"},[t._v(t._s(t.$t("STORAGE.OBJECT_PERMISSIONS"))+"\n              "),s("Tooltip",{attrs:{placement:"right"}},[s("span",[s("Icon",{attrs:{type:"ios-help-outline"}})],1),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"white-space":"normal !important"}},[t._v(t._s(t.$t("STORAGE.BUCKET_OBJECT_PERMISSIONS_INFO")))])])])],1),s("th",{staticClass:"percent30"},[t._v(t._s(t.$t("STORAGE.ACL_PERMISSIONS"))+"\n              "),s("Tooltip",{attrs:{placement:"right"}},[s("span",[s("Icon",{attrs:{type:"ios-help-outline"}})],1),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"white-space":"normal !important"}},[t._v(t._s(t.$t("STORAGE.BUCKET_ACL_PERMISSIONS_INFO")))])])])],1),s("th",{staticClass:"percent20"})])]),s("tbody",[t.isAdd?s("tr",[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserItem.name,expression:"newUserItem.name"}],staticClass:"new-user-input",domProps:{value:t.newUserItem.name},on:{input:function(e){e.target.composing||t.$set(t.newUserItem,"name",e.target.value)}}}),s("Button",{staticClass:"new-user-button",attrs:{size:"small"},on:{click:function(e){t.isAdd=!1}}},[t._v(t._s(t.$t("PUBLIC.CANCLE")))])],1),s("td",[s("Checkbox",{model:{value:t.newUserItem.Permission.READ,callback:function(e){t.$set(t.newUserItem.Permission,"READ",e)},expression:"newUserItem.Permission.READ"}},[t._v(t._s(t.$t("STORAGE.READ")))]),s("Checkbox",{model:{value:t.newUserItem.Permission.WRITE,callback:function(e){t.$set(t.newUserItem.Permission,"WRITE",e)},expression:"newUserItem.Permission.WRITE"}},[t._v(t._s(t.$t("STORAGE.WRITE")))])],1),s("td",[s("Checkbox",{model:{value:t.newUserItem.Permission.READ_ACP,callback:function(e){t.$set(t.newUserItem.Permission,"READ_ACP",e)},expression:"newUserItem.Permission.READ_ACP"}},[t._v(t._s(t.$t("STORAGE.READ")))]),s("Checkbox",{model:{value:t.newUserItem.Permission.WRITE_ACP,callback:function(e){t.$set(t.newUserItem.Permission,"WRITE_ACP",e)},expression:"newUserItem.Permission.WRITE_ACP"}},[t._v(t._s(t.$t("STORAGE.WRITE")))])],1),s("td")]):t._e(),t._l(t.UserACLList,function(e,i){return s("tr",{key:e.Grantee.ID},[s("td",[t._v("\n              "+t._s(e.Grantee.ID)+"\n            ")]),s("td",[s("Checkbox",{attrs:{disabled:t.owner==e.Grantee.ID},model:{value:e.Permission.READ,callback:function(s){t.$set(e.Permission,"READ",s)},expression:"item.Permission.READ"}},[t._v(t._s(t.$t("STORAGE.READ")))]),s("Checkbox",{attrs:{disabled:t.owner==e.Grantee.ID},model:{value:e.Permission.WRITE,callback:function(s){t.$set(e.Permission,"WRITE",s)},expression:"item.Permission.WRITE"}},[t._v(t._s(t.$t("STORAGE.WRITE")))])],1),s("td",[s("Checkbox",{attrs:{disabled:t.owner==e.Grantee.ID},model:{value:e.Permission.READ_ACP,callback:function(s){t.$set(e.Permission,"READ_ACP",s)},expression:"item.Permission.READ_ACP"}},[t._v(t._s(t.$t("STORAGE.READ")))]),s("Checkbox",{attrs:{disabled:t.owner==e.Grantee.ID},model:{value:e.Permission.WRITE_ACP,callback:function(s){t.$set(e.Permission,"WRITE_ACP",s)},expression:"item.Permission.WRITE_ACP"}},[t._v(t._s(t.$t("STORAGE.WRITE")))])],1),s("td",[s("Tooltip",{attrs:{placement:"bottom"}},[s("Button",0==i?{staticStyle:{margin:"0 6px"},attrs:{size:"small",icon:"plus-round"},on:{click:function(e){t.newUserItemInit(),t.isAdd=!0}}}:{staticStyle:{margin:"0 6px",visibility:"hidden"},attrs:{size:"small",icon:"plus-round"}}),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v(t._s(t.$t("STORAGE.ADD_USER")))])])],1),s("Tooltip",{attrs:{placement:"bottom"}},[s("Button",{staticStyle:{margin:"0 6px"},attrs:{disabled:t.owner==e.Grantee.ID,size:"small",icon:"minus-round"},on:{click:function(s){t.deleteUser(e)}}}),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v(t._s(t.$t("STORAGE.DELETE_USER")))])])],1)],1)])})],2)]),!t.isAdd||t.isAdd&&t.isAddVerified?s("Button",{staticClass:"settings-btn",attrs:{type:"primary"},on:{click:function(e){t.ACLsubmitForm()}}},[t._v(t._s(t.$t("STORAGE.SAVE_PERMISSIONS")))]):s("Button",{staticClass:"settings-btn",attrs:{type:"primary",disabled:"",title:t.$t("STORAGE.INVALID_NEW_USER")}},[t._v(t._s(t.$t("STORAGE.SAVE_PERMISSIONS")))])],1),s("Tab-pane",{attrs:{label:t.$t("STORAGE.CORS_CONFIG"),name:"cors"}},[s("Button",{staticClass:"button-add-rule",attrs:{disabled:100===t.rulesNumber,type:"primary"},on:{click:t.addCorsRule}},[t._v(t._s(t.$t("STORAGE.ADD_RULE")))]),s("span",{staticClass:"rules-number",model:{value:t.rulesNumber,callback:function(e){t.rulesNumber=e},expression:"rulesNumber"}},[t._v(t._s(t.$t("STORAGE.RULES_AT_MOST",{rulesNumber:t.rulesNumber})))]),s("legend-list",{staticClass:"legend-list",attrs:{data:t.legendList}}),s("Table",{attrs:{border:"",context:t.self,stripe:!0,columns:t.listCorsHeader,data:t.corsRulesList,"no-data-text":t.$t("STORAGE.NO_LIST")}})],1),s("Tab-pane",{attrs:{label:t.$t("STORAGE.BACK_SOURCE"),name:"backSource"}},["backSource"===t.tabName?s("back-source"):t._e()],1),s("Tab-pane",{attrs:{label:t.$t("SETTINGS.SECURITY_CHAIN"),name:"whiteList"}},["whiteList"===t.tabName?s("white-list"):t._e()],1)],1),s("Modal",{staticClass:"edit-modal",attrs:{title:t.$t("STORAGE.CORS_CONFIG"),width:"700"},model:{value:t.showCorsModal,callback:function(e){t.showCorsModal=e},expression:"showCorsModal"}},[s("div",{staticClass:"form-item"},[s("span",{staticClass:"form-label required-item"},[t._v("Allowed Origins : ")]),s("Input",{staticClass:"line-width",attrs:{placeholder:"http://www.example.com"},on:{"on-enter":function(e){t.addCorsModalTag("AllowedOrigins")}},model:{value:t.AllowedOrigins,callback:function(e){t.AllowedOrigins=e},expression:"AllowedOrigins"}}),t.originsEmptyError?s("p",{staticClass:"style-error-info redFont"},[t._v(t._s(t.$t("STORAGE.FILL_IN_ONE_AT_LEAST")))]):t._e(),t.AllowedOrigins?s("p",{staticClass:"style-error-info redFont"},[t._v(t._s(t.$t("STORAGE.PRESS_ENTER_KEY")))]):t._e(),s("p",{staticClass:"info"},[t._v(t._s(t.$t("STORAGE.ENTER_KEY")))]),s("div",{staticClass:"tag-margin-left"},t._l(t.corsModal.AllowedOrigins,function(e){return s("Tag",{key:e,attrs:{type:"border",color:"blue",name:e,closable:""},on:{"on-close":function(s){t.deleteCorsModalTag("AllowedOrigins",e)}}},[t._v(t._s(e))])}))],1),s("div",{staticClass:"form-item"},[s("span",{staticClass:"form-label required-item"},[t._v("Allowed Methods : ")]),s("Checkbox-group",{staticStyle:{display:"inline"},model:{value:t.corsModal.AllowedMethods,callback:function(e){t.$set(t.corsModal,"AllowedMethods",e)},expression:"corsModal.AllowedMethods"}},[s("Checkbox",{staticClass:"modal-checkbox",attrs:{label:"GET"}},[t._v("GET")]),s("Checkbox",{staticClass:"modal-checkbox",attrs:{label:"PUT"}},[t._v("PUT")]),s("Checkbox",{staticClass:"modal-checkbox",attrs:{label:"HEAD"}},[t._v("HEAD")]),s("Checkbox",{staticClass:"modal-checkbox",attrs:{label:"POST"}},[t._v("POST")]),s("Checkbox",{staticClass:"modal-checkbox",attrs:{label:"DELETE"}},[t._v("DELETE")])],1),t.methodsError?s("p",{staticClass:"style-error-info redFont"},[t._v(t._s(t.$t("STORAGE.SELECT_ONE_AT_LEAST")))]):t._e()],1),s("div",{staticClass:"form-item"},[s("span",{staticClass:"form-label"},[t._v("Allowed Headers : ")]),s("Input",{staticClass:"line-width",on:{"on-enter":function(e){t.addCorsModalTag("AllowedHeaders")}},model:{value:t.AllowedHeaders,callback:function(e){t.AllowedHeaders=e},expression:"AllowedHeaders"}}),t.AllowedHeaders?s("p",{staticClass:"style-error-info redFont"},[t._v(t._s(t.$t("STORAGE.PRESS_ENTER_KEY")))]):t._e(),s("p",{staticClass:"info"},[t._v(t._s(t.$t("STORAGE.ENTER_KEY")))]),s("div",{staticClass:"tag-margin-left"},t._l(t.corsModal.AllowedHeaders,function(e){return s("Tag",{key:e,attrs:{type:"border",color:"blue",name:e,closable:""},on:{"on-close":function(s){t.deleteCorsModalTag("AllowedHeaders",e)}}},[t._v(t._s(e))])}))],1),s("div",{staticClass:"form-item"},[s("span",{staticClass:"form-label"},[t._v("Expose Headers : ")]),s("Input",{staticClass:"line-width",on:{"on-enter":function(e){t.addCorsModalTag("ExposeHeaders")}},model:{value:t.ExposeHeaders,callback:function(e){t.ExposeHeaders=e},expression:"ExposeHeaders"}}),t.ExposeHeaders?s("p",{staticClass:"style-error-info redFont"},[t._v(t._s(t.$t("STORAGE.PRESS_ENTER_KEY")))]):t._e(),s("p",{staticClass:"info"},[t._v(t._s(t.$t("STORAGE.ENTER_KEY")))]),s("div",{staticClass:"tag-margin-left"},t._l(t.corsModal.ExposeHeaders,function(e){return s("Tag",{key:e,attrs:{type:"border",color:"blue",name:e,closable:""},on:{"on-close":function(s){t.deleteCorsModalTag("ExposeHeaders",e)}}},[t._v(t._s(e))])}))],1),s("div",{staticClass:"form-item"},[s("span",{staticClass:"form-label"},[t._v("Max Age Seconds : ")]),s("Input",{staticClass:"line-width",staticStyle:{width:"100px"},model:{value:t.corsModal.MaxAgeSeconds,callback:function(e){t.$set(t.corsModal,"MaxAgeSeconds",e)},expression:"corsModal.MaxAgeSeconds"}}),s("span",[t._v("s")]),t.secondsError?s("p",{staticClass:"style-error-info redFont"},[t._v(t._s(t.$t("STORAGE.CACHE_TIME_BE_NUMBER")))]):t._e()],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"primary"},on:{click:t.putBucketCors}},[t._v(t._s(t.$t("VIDEO.OK")))])],1)])],1)},a=[],n=(s("2fdb"),s("6b54"),s("6762"),s("20d6"),s("c93e")),r=(s("ac6a"),s("8afe")),o=(s("96cf"),s("3040")),c=(s("7f7f"),s("ff66")),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"setting-box"},[s("span",{staticClass:"setting-name"},[t._v(t._s(t.$t("STORAGE.ISOPEN")))]),s("Tooltip",{attrs:{placement:"bottom",content:t.$t("STORAGE.ADULT_OPEN_INFO"),disabled:!t.enabledVertify}},[s("i-switch",{attrs:{size:"large",disabled:t.enabledVertify},model:{value:t.adultPolify.enabled,callback:function(e){t.$set(t.adultPolify,"enabled",e)},expression:"adultPolify.enabled"}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t.$t("STORAGE.ON")))]),s("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t.$t("STORAGE.OFF")))])])],1)],1),s("div",{staticClass:"setting-box"},[s("span",{staticClass:"setting-name"},[t._v(t._s(t.$t("STORAGE.ADULT_SAVE")))]),s("Select",{staticClass:"my-select",model:{value:t.adultPolify.isolate_bucket,callback:function(e){t.$set(t.adultPolify,"isolate_bucket",e)},expression:"adultPolify.isolate_bucket"}},t._l(t.bucketList,function(e){return s("Option",{key:e.Name,attrs:{value:e.Name}},[t._v(t._s(e.Name))])})),s("p",{staticClass:"tips"},[t._v(t._s(t.$t("STORAGE.ADULT_SAVE_TIPS"))+"\n      "),s("span",{staticClass:"creat-bucket",on:{click:function(e){t.createBucketModal=!0}}},[t._v(t._s(t.$t("STORAGE.ADULT_CREATE_BUCKET")))])])],1),s("div",{staticClass:"setting-box"},[s("span",{staticClass:"setting-name last-title"},[t._v(t._s(t.$t("STORAGE.ADULT_RULE")))]),s("Radio-group",{attrs:{vertical:""},model:{value:t.adultPolify.delete,callback:function(e){t.$set(t.adultPolify,"delete",e)},expression:"adultPolify.delete"}},[s("Radio",{attrs:{label:"F"}},[s("span",[t._v(t._s(t.$t("STORAGE.ADULT_RULE_SAVE")))])]),s("Radio",{attrs:{label:"T"}},[s("span",[t._v(t._s(t.$t("STORAGE.ADULT_RULE_DEL")))])])],1)],1),s("Modal",{attrs:{title:t.$t("STORAGE.ADD_BUCKET")},on:{"on-ok":t.addBucket,"on-cancel":function(e){t.createBucketValue=""}},model:{value:t.createBucketModal,callback:function(e){t.createBucketModal=e},expression:"createBucketModal"}},[s("Input",{attrs:{placeholder:t.$t("STORAGE.ADD_BUCKET_PLACEHOLDER")},on:{"on-change":t.check},model:{value:t.createBucketValue,callback:function(e){t.createBucketValue=e},expression:"createBucketValue"}}),s("span",{staticClass:"info-input-error"},[t._v(t._s(t.inputCheck?t.$t("STORAGE.ADD_BUCKET_CHECK"):""))])],1)],1)},u=[],d={props:["bucket"],data:function(){return{bucketList:this.bucketList,adultPolify:{},createBucketModal:!1,inputCheck:!1,createBucketValue:""}},computed:{enabledVertify:function(){return void 0===_.findKey(this.bucketList,["Name",this.adultPolify.isolate_bucket])}},watch:{adultPolify:{handler:function(t,e){void 0!==e.enabled&&this.putBucketPolicy()},deep:!0},"adultPolify.enabled":function(t){t?this.putUnionPolicy(this.bucket):this.putUnionPolicy("")}},created:function(){this.getBuckets(),this.getBucketPolicy()},methods:{getBuckets:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("getBuckets");case 3:e=t.sent,this.bucketList=Object(r["a"])(e.Buckets),_.remove(this.bucketList,function(t){return t.Name===s.bucket}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.$Message.error(this.$t("DASHBOARD.GET_BUCKET_FAILED"));case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),getBucketPolicy:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["d"])("getBucketPolicy",{Bucket:this.bucket});case 3:e=t.sent,s=JSON.parse(e.Policy),_.includes(JSON.stringify(s),'"adult":')?this.adultPolify=f(s.cognitive.computer_vision.adult):(this.adultPolify=p,this.putBucketPolicy()),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.$Message.error(this.$t("STORAGE.GET_ADULT_FAILED"));case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),putBucketPolicy:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=h(_.cloneDeep(this.adultPolify)),t.prev=1,t.next=4,Object(c["d"])("putBucketPolicy",{Bucket:this.bucket,Policy:JSON.stringify(e)});case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](1),this.getBucketPolicy(),this.$Message.error(this.$t("STORAGE.POLOCY_FAILED"));case 10:case"end":return t.stop()}},t,this,[[1,6]])}));return function(){return t.apply(this,arguments)}}(),addBucket:function(){var t=this,e=this;this.createBucketValue.length>2?Object(c["d"])("createBucket",{Bucket:this.createBucketValue}).then(function(){e.$Message.success(t.$t("STORAGE.ADD_BUCKET_SUCCESS")),e.getBuckets(),e.createBucketValue=""},function(t){e.$Message.error(t.message)}):this.$Message.warning(this.$t("STORAGE.ADD_BUCKET_CHECK"))},check:function(){this.inputCheck=this.createBucketValue.length<2},putUnionPolicy:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.enabledVertify){t.next=2;break}return t.abrupt("return");case 2:return s={union:{picAdult:e}},t.next=5,Object(c["d"])("putBucketPolicy",{Bucket:this.adultPolify.isolate_bucket,Policy:JSON.stringify(s)});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},p={enabled:!1,delete:"F",isolate_bucket:""},h=function(t){t.delete="T"===t.delete;var e={cognitive:{computer_vision:{adult:t}}};return e},f=function(t){return t.delete=t.delete?"T":"F",t},m=d,E=(s("0398"),s("2877")),b=Object(E["a"])(m,l,u,!1,null,"46b859b4",null);b.options.__file="picDetection.vue";var T=b.exports,v=s("e9b8"),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bsc-back-source"},[s("Button",{staticClass:"button-add-rule",attrs:{type:"primary"},on:{click:function(e){t.show404ModalFunc()}}},[t._v(t._s(t.$t("STORAGE.ADD_RULE")))]),s("legend-list",{staticClass:"legend-list",attrs:{data:t.legendList}}),s("p",{staticClass:"page-info"},[t._v(t._s(t.$t("SETTINGS.BACK_SOURCE_INFO")))]),s("Table",{attrs:{border:"",context:t.self,stripe:!0,columns:t.list404Header,data:t.fetchRuleList,"no-data-text":t.$t("STORAGE.NO_LIST")}}),s("Modal",{staticClass:"edit-modal",attrs:{title:t.$t("STORAGE.BACK_SOURCE"),width:"650"},model:{value:t.show404Modal,callback:function(e){t.show404Modal=e},expression:"show404Modal"}},[s("Form",{ref:"formValidate404",attrs:{model:t.formValidate404,rules:t.ruleValidate404,"label-width":150}},[s("FormItem",{attrs:{label:t.$t("STORAGE.SOURCE_MODE"),prop:"fetch_mode"}},[s("RadioGroup",{model:{value:t.formValidate404.fetch_mode,callback:function(e){t.$set(t.formValidate404,"fetch_mode",e)},expression:"formValidate404.fetch_mode"}},[s("Radio",{attrs:{label:"fetch_200"}},[t._v("200\n            "),s("Tooltip",[s("Icon",{attrs:{type:"ios-help-outline"}}),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"white-space":"normal !important"}},[t._v(t._s(t.$t("SETTINGS.FETCH_200_INFO")))])])],1)],1),s("Radio",{attrs:{label:"fetch_302"}},[t._v("302\n            "),s("Tooltip",[s("Icon",{attrs:{type:"ios-help-outline"}}),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"white-space":"normal !important"}},[t._v(t._s(t.$t("SETTINGS.FETCH_302_INFO")))])])],1)],1),s("Radio",{attrs:{label:"fetch_404"}},[t._v("404\n            "),s("Tooltip",[s("Icon",{attrs:{type:"ios-help-outline"}}),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"white-space":"normal !important"}},[t._v(t._s(t.$t("SETTINGS.FETCH_404_INFO")))])])],1)],1)],1)],1),s("FormItem",{directives:[{name:"show",rawName:"v-show",value:"fetch_302"!==t.formValidate404.fetch_mode,expression:"formValidate404.fetch_mode !== 'fetch_302'"}],attrs:{label:t.$t("STORAGE.SOURCE_HEADER"),prop:"source_header"}},[s("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"Host:www.example.com"},on:{"on-enter":function(e){t.addHeaderTag()}},model:{value:t.requestHeader,callback:function(e){t.requestHeader=e},expression:"requestHeader"}}),t.requestHeader&&t.requestHeaderFormatError?s("p",{staticClass:"style-error-info redFont"},[t._v(t._s(t.$t("STORAGE.CORRECT_FORMAT_HEADER")))]):t._e(),t.requestHeader&&!t.requestHeaderFormatError?s("p",{staticClass:"style-error-info redFont"},[t._v(t._s(t.$t("STORAGE.PRESS_ENTER_KEY")))]):t._e(),s("p",{staticClass:"info"},[t._v(t._s(t.$t("STORAGE.ENTER_KEY")))]),s("div",{staticClass:"tag-margin-left"},t._l(t.formValidate404.request_headers,function(e){return s("Tag",{key:e,attrs:{type:"border",color:"blue",name:e,closable:""},on:{"on-close":function(s){t.deleteHeaderTag(e)}}},[t._v(t._s(e))])}))],1),s("FormItem",{attrs:{label:t.$t("STORAGE.SOURCE_DOMAIN"),prop:"domain"}},[s("Input",{staticStyle:{width:"400px"},model:{value:t.formValidate404.domain,callback:function(e){t.$set(t.formValidate404,"domain",e)},expression:"formValidate404.domain"}}),s("Select",{staticStyle:{width:"100px","text-align":"left"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.domainPrepend,callback:function(e){t.domainPrepend=e},expression:"domainPrepend"}},[s("Option",{attrs:{value:"http"}},[t._v("http://")]),s("Option",{attrs:{value:"https"}},[t._v("https://")])],1),t._v("\n        />\n      ")],1),s("FormItem",{attrs:{label:t.$t("STORAGE.URI_PATTERN"),prop:"uri_pattern"}},[s("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"/(.*)"},model:{value:t.formValidate404.uri_pattern,callback:function(e){t.$set(t.formValidate404,"uri_pattern",e)},expression:"formValidate404.uri_pattern"}}),s("Tooltip",{attrs:{placement:"bottom-end"}},[s("Icon",{staticStyle:{width:"30px","padding-left":"4px"},attrs:{type:"ios-help-outline"}}),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"white-space":"normal !important"}},[t._v(t._s(t.$t("SETTINGS.URI_PATTERN_INFO")))])])],1)],1),s("FormItem",{attrs:{label:t.$t("STORAGE.ALLOW_METHOD"),prop:"allow_method"}},[s("CheckboxGroup",{model:{value:t.formValidate404.allow_method,callback:function(e){t.$set(t.formValidate404,"allow_method",e)},expression:"formValidate404.allow_method"}},[s("Checkbox",{attrs:{label:"GET"}}),s("Checkbox",{attrs:{label:"HEAD"}})],1)],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"primary"},on:{click:function(e){t.validate404Rule("formValidate404",t.isEdit)}}},[t._v(t._s(t.$t("VIDEO.OK")))])],1)],1)],1)},S=[],A=(s("28a5"),s("4917"),s("3b2b"),s("365c")),R={components:{legendList:v["a"]},data:function(){var t=this;return{self:this,legendList:[{icon:"ios-toggle",text:"VIDEO.STATUS"},{icon:"compose",text:"PUBLIC.EDIT"},{icon:"ios-trash",text:"PUBLIC.DELETE"}],isEdit:!1,editId:"",show404Modal:!1,formValidate404:{fetch_mode:"",request_headers:[],domain:"",uri_pattern:"",allow_method:[]},requestHeader:"",requestHeaderFormatError:!1,domainPrepend:"http",ruleValidate404:{fetch_mode:[{required:!0,message:this.$t("STORAGE.MODE_CANNOT_EMPTY"),trigger:"change"}],domain:[{required:!0,validator:function(e,s,i){var a=new RegExp("^(?:(?:(?:(?:25[0-5]|2[0-4]\\d|((1\\d{2})|([1-9]?\\d)))\\.){3}(?:25[0-5]|2[0-4]\\d|((1\\d{2})|([1-9]?\\d)))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i");s?s.match(a)?i():i(new Error(t.$t("STORAGE.ENTER_CORRECT_DOMAIN"))):i(new Error(t.$t("STORAGE.DOMAIN_CANNOT_EMPTY")))},trigger:"blur"}],allow_method:[{required:!0,type:"array",min:1,message:this.$t("STORAGE.ALLOW_METHOD_CANNOT_EMPTY"),trigger:"change"}]},fetchRuleList:[],list404Header:[{title:this.$t("STORAGE.SOURCE_MODE"),key:"fetch_mode",render:function(t,e){return t("div","fetch_200"===e.row.fetch_mode?200:"fetch_302"===e.row.fetch_mode?302:404)}},{title:this.$t("STORAGE.SOURCE_HEADER"),key:"request_headers",width:"17%",render:function(t,e){return t("div",{style:{padding:"8px 0"}},_.map(e.row.request_headers,function(e,s){return[t("div",{style:{margin:"2px 0"}},"".concat(s,":").concat(e))]}),t("br"))}},{title:this.$t("STORAGE.SOURCE_DOMAIN"),key:"domain",width:"17%",render:function(t,e){return t("div",{style:{padding:"8px 0"}},e.row.domain)}},{title:this.$t("STORAGE.URI_PATTERN"),key:"uri_pattern",width:"17%"},{title:this.$t("STORAGE.ALLOW_METHOD"),key:"allow_method",width:"17%"},{title:this.$t("STORAGE.TABLE_ACTION"),key:"actions",width:"170px",render:function(e,s){return e("div",[e("Tooltip",{props:{content:t.$t("VIDEO.STATUS"),delay:500,placement:"top"},class:{"mar-r-8":!0}},[e("i-switch",{props:{value:1===s.row.is_active,size:"large"},on:{input:function(){t.changeStatus(s.row)}}},[e("span",{slot:"open"},t.$t("VIDEO.OPEN")),e("span",{slot:"close"},t.$t("VIDEO.CLOSE"))])]),e("Tooltip",{props:{content:t.$t("PUBLIC.EDIT"),delay:500,placement:"top"},class:{"mar-r-8":!0}},[e("i-button",{props:{size:"small"},on:{click:function(){t.edit404Rule(s.row)}}},[e("Icon",{props:{type:"compose",size:t.iconSize}})])]),e("Tooltip",{props:{content:t.$t("PUBLIC.DELETE"),delay:500,placement:"top"}},[e("i-button",{props:{size:"small"},on:{click:function(){t.delete404RuleConfirm(s.row)}}},[e("Icon",{props:{type:"ios-trash",size:t.iconSize}})])])])}}],iconSize:16}},computed:{bucket:function(){return this.$route.params.bucket}},watch:{requestHeader:function(t){var e=t.indexOf(":");this.requestHeaderFormatError=!(e>0)||!(t.slice(0,e).trim()&&t.slice(e+1).trim())}},created:function(){this.list404Rules()},methods:{list404Rules:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={action:"list",bucket:this.bucket},t.prev=1,this.$Loading.start(),t.next=5,Object(A["L"])(e);case 5:this.fetchRuleList=t.sent,this.$Loading.finish(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.$Loading.error();case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}(),addHeaderTag:function(){this.requestHeaderFormatError||(this.formValidate404.request_headers.push(this.requestHeader),this.requestHeader="")},deleteHeaderTag:function(t){var e=this.formValidate404.request_headers.indexOf(t);this.formValidate404.request_headers.splice(e,1)},show404ModalFunc:function(){this.show404Modal=!0,this.formValidate404={fetch_mode:"",request_headers:[],domain:"",uri_pattern:"",allow_method:[]},this.isEdit=!1},validate404Rule:function(t,e){var s=this;this.$refs[t].validate(function(t){t?s.add404Rule(e):s.$Message.error(s.$t("STORAGE.FORM_FAIL"))})},add404Rule:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={action:e?"set":"add",bucket:this.bucket,id:e?this.editId:"",fetch_mode:this.formValidate404.fetch_mode,request_headers:{},domain:"".concat(this.domainPrepend,"://").concat(this.formValidate404.domain),uri_pattern:this.formValidate404.uri_pattern?this.formValidate404.uri_pattern:"/(.*)",allow_method:this.formValidate404.allow_method.join()},"fetch_302"!==s.fetch_mode&&this.formValidate404.request_headers.length>0&&this.formValidate404.request_headers.forEach(function(t){var e=t.indexOf(":");s.request_headers[t.slice(0,e).trim()]=t.slice(e+1).trim()}),t.prev=2,this.$Loading.start(),t.next=6,Object(A["L"])(s);case 6:e?this.$Message.success(this.$t("STORAGE.SET_SUCCESS")):this.$Message.success(this.$t("STORAGE.CREATE_SUCCESS")),this.show404Modal=!1,this.list404Rules(),this.$Loading.finish(),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](2),this.$Loading.error(),e?this.$Message.error(this.$t("STORAGE.SET_FAIL")):this.$Message.error(this.$t("STORAGE.CREATE_FAIL"));case 16:case"end":return t.stop()}},t,this,[[2,12]])}));return function(e){return t.apply(this,arguments)}}(),changeStatus:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={action:1===e.is_active?"unactive":"active",bucket:this.bucket,id:e.id},t.prev=1,this.$Loading.start(),t.next=5,Object(A["L"])(s);case 5:i=this.fetchRuleList[e._index].is_active,this.fetchRuleList.length>1&&this.fetchRuleList.forEach(function(t){return t.is_active=0}),this.fetchRuleList[e._index].is_active=1===i?0:1,this.$Loading.finish(),this.$Message.success(this.$t("STORAGE.SWITCH_STATE_SUCCESS")),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](1),this.$Loading.error(),this.$Message.error(this.$t("STORAGE.SWITCH_STATE_FAIL"));case 16:case"end":return t.stop()}},t,this,[[1,12]])}));return function(e){return t.apply(this,arguments)}}(),edit404Rule:function(t){var e=this;this.show404Modal=!0,this.formValidate404.fetch_mode=this.fetchRuleList[t._index].fetch_mode,this.fetchRuleList[t._index].request_headers&&(this.formValidate404.request_headers=[],_.forEach(this.fetchRuleList[t._index].request_headers,function(t,s){e.formValidate404.request_headers.push("".concat(s,":").concat(t))})),this.domainPrepend=this.fetchRuleList[t._index].domain.split("://")[0],this.formValidate404.domain=this.fetchRuleList[t._index].domain.split("://")[1],this.formValidate404.uri_pattern=this.fetchRuleList[t._index].uri_pattern,this.formValidate404.allow_method=this.fetchRuleList[t._index].allow_method.split(","),this.isEdit=!0,this.editId=t.id},delete404RuleConfirm:function(t){var e=this;this.$Modal.confirm({content:this.$t("STORAGE.COMFIRM_DELETE_404_RULE"),okText:this.$t("PUBLIC.CONFIRMED"),cancelText:this.$t("PUBLIC.CANCLE"),title:this.$t("PUBLIC.DELETE"),onOk:function(){return e.delete404Rule(t)}})},delete404Rule:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={action:"remove",bucket:this.bucket,id:e.id},t.prev=1,this.$Loading.start(),t.next=5,Object(A["L"])(s);case 5:this.fetchRuleList.splice(e._index,1),this.$Loading.finish(),this.$Message.success(this.$t("STORAGE.DELETE_SUCCESS")),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),this.$Loading.error(),this.$Message.error(this.$t("STORAGE.DELETE_FAIL"));case 14:case"end":return t.stop()}},t,this,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()}},I=R,O=(s("40e0"),Object(E["a"])(I,C,S,!1,null,"91d208b6",null));O.options.__file="backSource.vue";var w=O.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.spinGroup?s("Spin",{staticClass:"search-spin",attrs:{size:"bigger",fix:""}}):t._e(),s("div",{staticClass:"section-separator"},[s("div",{staticClass:"separator-body"},[s("span",{staticClass:"separator-icon"}),s("span",{staticClass:"separator-info"},[t._v(t._s(t.$t("SETTINGS.WHITE_BLACK")))])])]),s("div",{staticClass:"is-open"},[s("span",{staticClass:"setting-name"},[t._v(t._s(t.$t("STORAGE.ISOPEN")))]),s("i-switch",{attrs:{size:"large"},on:{"on-change":t.listEnabled},model:{value:t.enabled,callback:function(e){t.enabled=e},expression:"enabled"}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t.$t("STORAGE.OPEN")))]),s("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t.$t("STORAGE.CLOSE")))])])],1),s("div",{staticClass:"section-separator"},[s("div",{staticClass:"separator-body"},[s("span",{staticClass:"separator-icon"}),s("span",{staticClass:"separator-info"},[t._v(t._s(t.$t("SETTINGS.IP_WHITE_LIST")))])])]),s("link-table",{attrs:{listData:t.whiteList,formName:"whiteForm",info:t.$t("SETTINGS.WHITE_LIST_INFO")}}),s("div",{staticClass:"section-separator mar-t-35"},[s("div",{staticClass:"separator-body"},[s("span",{staticClass:"separator-icon"}),s("span",{staticClass:"separator-info"},[t._v(t._s(t.$t("SETTINGS.IP_BLACK_LIST")))])])]),s("link-table",{attrs:{listData:t.blackList,formName:"blackForm",info:t.$t("SETTINGS.BLACK_LIST_INFO")}})],1)},g=[],$=(s("a481"),s("4f7f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"new-item"},[s("Form",{ref:t.formName,staticClass:"ip-form",attrs:{model:t.newItem,rules:t.rules}},[s("FormItem",{staticClass:"ip-item",attrs:{prop:"ip"}},[s("Input",{staticClass:"new-ip",staticStyle:{width:"330px"},attrs:{type:"textarea",placeholder:t.$t("SETTINGS.NEW_IP_PLACEHOLDER"),autosize:!0},model:{value:t.newItem.ip,callback:function(e){t.$set(t.newItem,"ip",e)},expression:"newItem.ip"}})],1)],1),s("Checkbox",{model:{value:t.newItem.upload,callback:function(e){t.$set(t.newItem,"upload",e)},expression:"newItem.upload"}},[t._v(t._s(t.$t("SETTINGS.UPLOAD")))]),s("Checkbox",{model:{value:t.newItem.download,callback:function(e){t.$set(t.newItem,"download",e)},expression:"newItem.download"}},[t._v(t._s(t.$t("SETTINGS.DOWNLOAD")))]),s("Checkbox",{model:{value:t.newItem.delete,callback:function(e){t.$set(t.newItem,"delete",e)},expression:"newItem.delete"}},[t._v(t._s(t.$t("SETTINGS.DELETE")))]),s("Button",{attrs:{size:"small",type:"primary"},on:{click:t.addIPVertify}},[t._v(t._s(t.$t("PUBLIC.ADD")))])],1),s("p",{staticClass:"page-info"},[t._v(t._s(t.$t("SETTINGS.WHITE_BLACK_LIST_INFO")))]),s("p",{staticClass:"page-info"},[t._v(t._s(t.info))]),s("Table",{attrs:{border:"",stripe:!0,columns:t.listHeader,data:t.listData,"no-data-text":t.$t("STORAGE.NO_LIST")}})],1)}),L=[],x=(s("7514"),{props:["listData","formName","info"],data:function(){var t=this;return{iconSize:18,itemEdit:{},newIps:[],newItem:{ip:"",upload:!0,download:!0,delete:!0},rules:{ip:[{validator:this.validateIP,trigger:"change"}]},listHeader:[{title:"IP",width:"40%",key:"ip"},{title:this.$t("SETTINGS.ACCESS"),render:function(e,s){var i=t.listData[s.row._index],a=i.edit?e("div",{style:{display:"inline-block"}},[e("i-button",{style:{margin:"0 6px"},props:{size:"small",icon:"checkmark-round"},on:{click:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$parent.accessSet();case 2:i.edit=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}}),e("i-button",{style:{margin:"0 6px"},props:{size:"small",icon:"close-round"},on:{click:function(){i.upload=i.before.upload,i.delete=i.before.delete,i.download=i.before.download,i.edit=!1}}})]):e("i-button",{props:{size:"small"},on:{click:function(){i.before={upload:i.upload,delete:i.delete,download:i.download},i.edit=!0}}},[e("Icon",{props:{type:"compose",size:t.iconSize}})]);return e("div",[e("Checkbox",{props:{value:i.upload,disabled:!i.edit},on:{input:function(t){i.upload=t}}},[t.$t("SETTINGS.UPLOAD")]),e("Checkbox",{props:{value:i.download,disabled:!i.edit},on:{input:function(t){i.download=t}}},[t.$t("SETTINGS.DOWNLOAD")]),e("Checkbox",{props:{value:i.delete,disabled:!i.edit},on:{input:function(t){i.delete=t}}},[t.$t("SETTINGS.DELETE")]),a])}},{title:this.$t("VIDEO.OPERATION"),width:"82px",align:"right",render:function(e,s){return e("Tooltip",{props:{content:t.$t("PUBLIC.DELETE"),delay:1e3,placement:"top"}},[e("i-button",{props:{size:"small"},on:{click:function(){t.listDeleteConfirm(s.row._index)}}},[e("Icon",{props:{type:"ios-trash",size:t.iconSize}})])])}}]}},computed:{bucket:function(){return this.$route.params.bucket}},methods:{addIPVertify:function(){var t=this;this.$refs[this.formName].validate(function(e){e?t.addIP():t.$Message.error(t.$t("SETTINGS.IP_INVALID"))})},addIP:function(){var t=this;this.newIps.forEach(function(e){t.listData.push({ip:e,upload:t.newItem.upload,delete:t.newItem.delete,download:t.newItem.download,edit:!1,before:{upload:t.newItem.upload,delete:t.newItem.delete,download:t.newItem.download}})}),this.$parent.accessSet()},validateIP:function(t,e,s){var i=this;this.newIps=e.replace(/\r\n/gi,";").replace(/\n/g,";").replace(/\r/g,";").replace("/↵/g",";").split(";");var a=new Set(this.newIps),n=!this.newIps.every(function(t){return!i.listData.find(function(e){if(e.ip===t)return!0;if(!e.ip.includes("*"))return!1;for(var s=0;s<4;s++){var i=e.ip.split("."),a=t.split(".");if(i.splice(s,1),a.splice(s,1),i.join(".")===a.join("."))return!0}})});this.newIps.every(function(t){return y.test(t)&&t.split(".").indexOf("*")===t.split(".").lastIndexOf("*")})?n?s(new Error(this.$t("SETTINGS.IP_EXISTS"))):a.size!==this.newIps.length?s(new Error(this.$t("SETTINGS.IP_REPEAT"))):s():s(new Error(this.$t("SETTINGS.IP_INVALID")))},listDeleteConfirm:function(t){var e=this;this.$Modal.confirm({content:this.$t("SETTINGS.COMFIRM_DELETE_HOTLINK",{ip:this.listData[t].ip}),okText:this.$t("PUBLIC.CONFIRMED"),cancelText:this.$t("PUBLIC.CANCLE"),title:this.$t("PUBLIC.DELETE"),onOk:function(){e.listData.splice(t,1),e.$parent.accessSet()}})}}}),y=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|\*)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|\*)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|\*)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|\*)$/,P=x,D=(s("5292"),Object(E["a"])(P,$,L,!1,null,"1a482454",null));D.options.__file="linkTable.vue";var G=D.exports,N={components:{linkTable:G},data:function(){return{whiteList:[],blackList:[],iconSize:18,spinGroup:!1,enabled:!1}},computed:{bucket:function(){return this.$route.params.bucket}},created:function(){this.getList()},methods:{getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$Loading.start(),this.spinGroup=!0,e={action:"get",bucket:this.bucket},t.prev=3,t.next=6,Object(A["D"])(e);case 6:s=t.sent,this.enabled=s.enabled,this.whiteList=[],this.blackList=[],i=new Set(s.download_file.white_list.concat(s.delete_file.white_list).concat(s.upload_file.white_list)),a=new Set(s.download_file.black_list.concat(s.delete_file.black_list).concat(s.upload_file.black_list)),this.whiteList=M(i,s,"white_list"),this.blackList=M(a,s,"black_list"),this.$Loading.finish(),this.spinGroup=!1,t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](3),this.$Loading.error(),this.spinGroup=!1;case 22:case"end":return t.stop()}},t,this,[[3,18]])}));return function(){return t.apply(this,arguments)}}(),listEnabled:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.enabled){t.next=4;break}return e={service:"access_control"},t.next=4,Object(A["F"])(e);case 4:return s={action:this.enabled?"enable":"disable",bucket:this.bucket},t.next=7,Object(A["D"])(s);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),accessSet:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$Loading.start(),e=_.cloneDeep(H),e=U(this.whiteList,e,"white_list"),e=U(this.blackList,e,"black_list"),s={action:"set",ips:e,bucket:this.bucket},t.prev=5,t.next=8,Object(A["D"])(s);case 8:this.$Loading.finish(),this.$Message.success(this.$t("SETTINGS.SAVED")),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](5),this.$Loading.error(),this.getList();case 16:case"end":return t.stop()}},t,this,[[5,12]])}));return function(){return t.apply(this,arguments)}}()}},M=function(t,e,s){var i=[];return t.forEach(function(t){var a={ip:t,upload:e.upload_file[s].includes(t),delete:e.delete_file[s].includes(t),download:e.download_file[s].includes(t),edit:!1,before:{upload:e.upload_file[s].includes(t),delete:e.delete_file[s].includes(t),download:e.download_file[s].includes(t)}};i.push(a)}),i=B(i),i},U=function(t,e,s){return t.forEach(function(t){if(t.ip.includes("*"))for(var i,a=0;a<256;a++)i=t.ip.replace("*",a),t.download&&e.download_file[s].push(i),t.delete&&e.delete_file[s].push(i),t.upload&&e.upload_file[s].push(i);else t.download&&e.download_file[s].push(t.ip),t.delete&&e.delete_file[s].push(t.ip),t.upload&&e.upload_file[s].push(t.ip)}),e},B=function(t){var e=t;return e.forEach(function(t){for(var s=function(s){var i=[],a=t.ip;if(a=a.split("."),a.splice(s,1),a=a.join("."),e.forEach(function(e){var n=e.ip;n=n.split("."),n.splice(s,1),n=n.join("."),n===a&&e.upload===t.upload&&e.delete===t.delete&&e.download===t.download&&i.push(e.ip.split(".")[s])}),256===i.length){for(var n=!0,r=0;r<256;r++)if(!i.includes(r.toString())){n=!1;break}if(n){var o=t.ip.split(".");o.splice(s,1,"*"),e=e.filter(function(e){var i=t.ip.split(".");i.splice(s,1);var a=e.ip.split(".");return a.splice(s,1),a.join(".")!==i.join(".")}),e.push({ip:o.join("."),upload:t.upload,delete:t.delete,download:t.download,edit:!1,before:{upload:t.upload,delete:t.delete,download:t.download}})}}},i=0;i<4;i++)s(i)}),e},H={download_file:{white_list:[],black_list:[]},delete_file:{white_list:[],black_list:[]},upload_file:{white_list:[],black_list:[]}},F=N,j=(s("8baa"),Object(E["a"])(F,k,g,!1,null,"efc4cbe8",null));j.options.__file="whiteList.vue";var V=j.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Button",{attrs:{type:"primary"},on:{click:function(e){t.createModal=!0}}},[t._v(t._s(t.$t("SETTINGS.BIND_CUSTOME_DOMAIN")))]),s("p",{staticClass:"page-info"},[t._v(t._s(t.$t("SETTINGS.DOMAIN_INFO")))]),s("Table",{attrs:{border:"",stripe:!0,columns:t.listHeader,data:t.listData,"no-data-text":t.noDataText}}),s("Modal",{attrs:{title:t.$t("SETTINGS.BIND_CUSTOME_DOMAIN")},on:{"on-ok":t.addDomain,"on-cancel":function(e){t.newDomain=""}},model:{value:t.createModal,callback:function(e){t.createModal=e},expression:"createModal"}},[s("Input",{attrs:{autofocus:"",placeholder:t.$t("SETTINGS.BIND_DOMAIN_PLACEHOLDER")},on:{"on-enter":t.addDomain,"on-change":t.newDomainTest},model:{value:t.newDomain,callback:function(e){t.newDomain=e},expression:"newDomain"}}),s("span",{staticClass:"info-input-error"},[t._v(t._s(t.inputCheck?"":t.$t("SETTINGS.INVALID_DOMAIN")))])],1)],1)},W=[],q={data:function(){var t=this;return{createModal:!1,listData:[],newDomain:"",inputCheck:!0,noDataText:this.$t("STORAGE.NO_LIST"),listHeader:[{title:this.$t("SETTINGS.BOUND_DOMAIN"),key:"domain"},{title:this.$t("VIDEO.OPERATION"),width:"82px",render:function(e,s){return e("Tooltip",{props:{content:t.$t("PUBLIC.DELETE"),delay:1e3,placement:"top"}},[e("i-button",{props:{size:"small"},on:{click:function(){t.deleteConfirm(s.row)}}},[e("Icon",{props:{type:"ios-trash",size:t.iconSize}})])])}}]}},computed:{bucket:function(){return this.$route.params.bucket}},created:function(){this.getList()},methods:{getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(A["j"])("".concat(this.bucket));case 3:e=t.sent,this.listData=e.map(function(t){return{domain:t}}),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),this.noDataText="".concat(this.$t("PUBLIC.GET_LIST_FAIL")," ").concat(t.t0.msg),this.$Message.error(this.$t("PUBLIC.GET_LIST_FAIL"));case 11:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),deleteConfirm:function(t){var e=this;this.$Modal.confirm({content:this.$t("SETTINGS.DOMAIN_DELETE_CONFIRM",{domain:t.domain}),okText:this.$t("PUBLIC.CONFIRMED"),cancelText:this.$t("PUBLIC.CANCLE"),title:this.$t("PUBLIC.DELETE"),onOk:function(){return e.deleteDomain(t)}})},deleteDomain:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(A["b"])("".concat(this.bucket),{params:{custom_domain:e.domain}});case 2:this.listData.splice(e._index,1),this.$Message.success(this.$t("PUBLIC.OPTIONS_SUCCESS"));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),addDomain:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.inputCheck){t.next=9;break}return t.next=3,Object(A["K"])("".concat(this.bucket),{custom_domain:this.newDomain});case 3:this.listData.push({domain:this.newDomain}),this.$Message.success(this.$t("PUBLIC.OPTIONS_SUCCESS")),this.createModal=!1,this.newDomain="",t.next=10;break;case 9:this.$Message.error(this.$t("SETTINGS.INVALID_DOMAIN"));case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),newDomainTest:function(){this.inputCheck=/^[a-zA-Z\d-]{0,63}(\.[a-zA-Z\d-]{0,63})+$/.test(this.newDomain)}}},K=q,Y=(s("79fd"),Object(E["a"])(K,z,W,!1,null,"b4a420aa",null));Y.options.__file="customDomain.vue";var J=Y.exports,Z=s("acc6"),X={components:{picDetection:T,legendList:v["a"],backSource:w,whiteList:V,customDomain:J,bscBreadcrumb:Z["a"],bscBreadcrumbItem:Z["a"].Item},data:function(){var t=this;return{self:this,legendList:[{icon:"compose",text:"PUBLIC.EDIT"},{icon:"ios-trash",text:"PUBLIC.DELETE"}],GroupACLList:this.GroupACLList,UserACLList:this.UserACLList,isAdd:!1,owner:this.owner,newUserItem:{name:"",Permission:{READ:!1,WRITE:!1,READ_ACP:!1,WRITE_ACP:!1}},rulesNumber:0,indexToEditCorsRule:"",AllowedOrigins:"",AllowedHeaders:"",ExposeHeaders:"",corsModal:{AllowedOrigins:[],AllowedMethods:["GET"],AllowedHeaders:[],ExposeHeaders:[],MaxAgeSeconds:""},corsRulesList:[],showCorsModal:!1,listCorsHeader:[{title:"Allowed Origins",width:160,render:function(t,e){return t("div",e.row.AllowedOrigins.map(function(e){return t("p",e)}))}},{title:"Allowed Methods",width:255,render:function(t,e){return t("div",{style:{padding:"6px 0"}},e.row.AllowedMethods.map(function(e){return t("Tag",e)}))}},{title:"Allowed Headers",width:170,render:function(t,e){return t("div",{style:{padding:"6px 0"}},e.row.AllowedHeaders.map(function(e){return t("Tag",e)}))}},{title:"Expose Headers",width:170,render:function(t,e){return t("div",{style:{padding:"6px 0"}},e.row.ExposeHeaders.map(function(e){return t("Tag",e)}))}},{title:"Max Age Seconds",key:"MaxAgeSeconds",width:120},{title:this.$t("STORAGE.TABLE_ACTION"),key:"actions",width:85,render:function(e,s){return e("div",[e("Tooltip",{props:{content:t.$t("PUBLIC.EDIT"),delay:500,placement:"top"},class:{"mar-r-8":!0}},[e("i-button",{props:{size:"small"},on:{click:function(){t.addCorsRule(s.row._index)}}},[e("Icon",{props:{type:"compose",size:t.iconSize}})])]),e("Tooltip",{props:{content:t.$t("PUBLIC.DELETE"),delay:500,placement:"top"}},[e("i-button",{props:{size:"small"},on:{click:function(){t.deleteCorsRuleConfirm(s.row._index)}}},[e("Icon",{props:{type:"ios-trash",size:t.iconSize}})])])])}}],iconSize:16,deleteList:[]}},computed:{bucket:function(){return this.$route.params.bucket},tabName:{get:function(){return this.$route.params.tabName||"permission"}},originsEmptyError:function(){return 0===this.corsModal.AllowedOrigins.length&&!this.AllowedOrigins},methodsError:function(){return 0===this.corsModal.AllowedMethods.length},secondsError:function(){return this.corsModal.MaxAgeSeconds&&isNaN(this.corsModal.MaxAgeSeconds)},isAddVerified:function(){var t=this.newUserItem.name,e=this.newUserItem.Permission,s=e.READ,i=e.WRITE,a=e.READ_ACP,n=e.WRITE_ACP;return t&&(s||i||a||n)},bucketPath:function(){return"/bucket/".concat(this.$route.params.bucket)}},created:function(){this.getACLList(),this.listCorsRules()},methods:{getACLList:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$Loading.start(),t.prev=1,t.next=4,Object(c["d"])("getBucketAcl",{Bucket:this.bucket});case 4:e=t.sent,this.GroupACLList=st(e.Grants)[0],this.UserACLList=st(e.Grants)[1],this.Data={bucket:this.bucket,grants:e.Grants,owner:e.Owner},this.owner=e.Owner.ID,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),this.$Message.error(this.$t("STORAGE.GET_PERMISSION_FAILED"));case 14:this.$Loading.finish();case 15:case"end":return t.stop()}},t,this,[[1,11]])}));return function(){return t.apply(this,arguments)}}(),ACLsubmitForm:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$Loading.start(),e=Object(r["a"])(this.GroupACLList).concat(Object(r["a"])(this.UserACLList),Object(r["a"])(this.deleteList)),s=_.cloneDeep(e),this.isAdd&&(this.newUserItemPut=nt(this.newUserItem),s=s.concat(this.newUserItemPut)),s=_.filter(s,function(t){return t.Permission=at(t.Permission),t.Permission.length>0}),0!==s.length){t.next=8;break}return this.$Message.error(this.$t("STORAGE.PERMISSION_EMPTY")),t.abrupt("return",!1);case 8:return i={Bucket:this.Data.bucket,AccessControlPolicy:{Grants:s,Owner:this.Data.owner}},t.prev=9,t.next=12,Object(c["d"])("putBucketAcl",i);case 12:this.$Message.success(this.$t("STORAGE.PERMISSION_SUCCESS")),this.deleteList=[],this.isAdd&&(this.UserACLList=this.UserACLList.concat(nt(this.newUserItem)),this.isAdd=!1),t.next=19;break;case 17:t.prev=17,t.t0=t["catch"](9);case 19:this.$Loading.finish();case 20:case"end":return t.stop()}},t,this,[[9,17]])}));return function(){return t.apply(this,arguments)}}(),addCorsModalTag:function(t){this[t].length>0&&(this.corsModal[t].push(this[t]),this[t]="")},deleteCorsModalTag:function(t,e){var s=this.corsModal[t].indexOf(e);this.corsModal[t].splice(s,1)},putBucketCors:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!==this.corsModal.AllowedOrigins.length){t.next=3;break}return this.$Message.error(this.$t("STORAGE.ALLOWED_ORIGINS_CANNOT_EMPTY")),t.abrupt("return");case 3:if(0!==this.corsModal.AllowedMethods.length){t.next=6;break}return this.$Message.error(this.$t("STORAGE.ALLOWED_METHODS_CANNOT_EMPTY")),t.abrupt("return");case 6:if(!this.corsModal.MaxAgeSeconds||!isNaN(this.corsModal.MaxAgeSeconds)){t.next=9;break}return this.$Message.error(this.$t("STORAGE.CACHE_TIME_BE_NUMBER")),t.abrupt("return");case 9:return e={},_.forEach(this.corsModal,function(t,s){t&&(e[s]=t)}),"number"===typeof this.indexToEditCorsRule?(this.corsRulesList[this.indexToEditCorsRule]=e,this.indexToEditCorsRule="",this.corsRulesList=_.cloneDeep(this.corsRulesList)):(this.corsRulesList.push(e),this.rulesNumber=this.rulesNumber+1),s={Bucket:this.bucket,CORSConfiguration:{CORSRules:this.corsRulesList}},t.prev=13,this.$Loading.start(),t.next=17,Object(c["d"])("putBucketCors",s);case 17:this.$Loading.finish(),this.showCorsModal=!1,this.$Message.success(this.$t("STORAGE.SET_SUCCESS")),t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](13),this.$Loading.error(),this.listCorsRules();case 26:case"end":return t.stop()}},t,this,[[13,22]])}));return function(){return t.apply(this,arguments)}}(),listCorsRules:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.$Loading.start(),t.next=4,Object(c["d"])("getBucketCors",{Bucket:this.bucket});case 4:e=t.sent,this.corsRulesList=e.CORSRules,this.rulesNumber=e.CORSRules.length,this.$Loading.finish(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),this.$Loading.error();case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),addCorsRule:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.AllowedOrigins="",this.AllowedHeaders="",this.ExposeHeaders="",this.showCorsModal=!0,"number"!==typeof e){t.next=12;break}return t.next=7,Object(c["d"])("getBucketCors",{Bucket:this.bucket});case 7:s=t.sent,this.corsModal=Object(n["a"])({},s.CORSRules[e]),this.indexToEditCorsRule=e,t.next=18;break;case 12:this.corsModal.AllowedOrigins=[],this.corsModal.AllowedMethods=["GET"],this.corsModal.AllowedHeaders=[],this.corsModal.ExposeHeaders=[],this.corsModal.MaxAgeSeconds="",this.indexToEditCorsRule="";case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),deleteCorsRuleConfirm:function(t){var e=this;this.$Modal.confirm({content:this.$t("STORAGE.DELETE_CORS_CONFIRMED"),okText:this.$t("PUBLIC.CONFIRMED"),cancelText:this.$t("PUBLIC.CANCLE"),title:this.$t("PUBLIC.DELETE"),onOk:function(){return e.deleteCorsRule(t)}})},deleteCorsRule:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.corsRulesList.splice(e,1),s={Bucket:this.bucket,CORSConfiguration:{CORSRules:this.corsRulesList}},t.prev=2,this.$Loading.start(),0===this.corsRulesList.length){t.next=9;break}return t.next=7,Object(c["d"])("putBucketCors",s);case 7:t.next=11;break;case 9:return t.next=11,Object(c["d"])("deleteBucketCors",{Bucket:this.bucket});case 11:this.rulesNumber=this.rulesNumber-1,this.$Loading.finish(),this.$Message.success(this.$t("STORAGE.DELETE_SUCCESS")),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](2),this.$Loading.error(),this.listCorsRules();case 20:case"end":return t.stop()}},t,this,[[2,16]])}));return function(e){return t.apply(this,arguments)}}(),deleteUser:function(t){t.Permission={READ:!1,WRITE:!1,READ_ACP:!1,WRITE_ACP:!1},this.deleteList.push(t),this.UserACLList=this.UserACLList.filter(function(e){return e!==t})},newUserItemInit:function(){this.newUserItem={Permission:Object(n["a"])({},Q),name:""}},back:function(){this.$router.back()},tabChange:function(t){this.$router.push({name:"bucketSettings",params:{bucket:this.bucket,tabName:t}})}}},Q={READ:!1,WRITE:!1,READ_ACP:!1,WRITE_ACP:!1},tt=function(){var t=[{Permission:Object(n["a"])({},Q),Grantee:{URI:"http://acs.amazonaws.com/groups/global/AllUsers",Type:"Group"}},{Permission:Object(n["a"])({},Q),Grantee:{URI:"http://acs.amazonaws.com/groups/global/AuthenticatedUsers",Type:"Group"}}];return t},et=function(){var t={Permission:Object(n["a"])({},Q),Grantee:{}};return t},st=function(t){var e=[],s=tt();if(t.length){var i=[];_.each(t,function(t){if(t.Grantee.URI&&"http://acs.amazonaws.com/groups/global/AllUsers"===t.Grantee.URI)it(s[0],t.Permission);else if("Group"===t.Grantee.Type&&t.Grantee.URI&&"http://acs.amazonaws.com/groups/global/AuthenticatedUsers"===t.Grantee.URI)it(s[1],t.Permission);else if(t.Grantee.ID){var a=t.Grantee.ID,n=i.findIndex(function(t){return t===a});if(i.includes(a))it(e[n],t.Permission);else{var r=et();r.Grantee=t.Grantee,it(r,t.Permission),e.push(r),i.push(a)}}})}return[s,e]},it=function(t,e){"FULL_CONTROL"===e?t.Permission={READ:!0,WRITE:!0,READ_ACP:!0,WRITE_ACP:!0}:t.Permission[e]=!0},at=function(t){var e={};return _.each(t,function(t,s){t&&(e[s]=!0)}),_.keys(e).toString()},nt=function(t){var e=Object(n["a"])({},t);return e.Grantee=t.name.includes("@")?{Type:"AmazonCustomerByEmail",EmailAddress:t.name}:{Type:"CanonicalUser",ID:t.name},delete e.name,e},rt=X,ot=(s("977e"),Object(E["a"])(rt,i,a,!1,null,"b33d37a8",null));ot.options.__file="Settings.vue";e["default"]=ot.exports},e853:function(t,e,s){var i=s("d3f4"),a=s("1169"),n=s("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),i(e)&&(e=e[n],null===e&&(e=void 0))),void 0===e?Array:e}},e9b8:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bsc-legend"},t._l(t.data,function(e){return s("div",{key:e.text,staticClass:"legend-item"},[s("Icon",{attrs:{type:e.icon,size:"14"}}),s("span",{staticClass:"legend-text"},[t._v(t._s(t.$t(e.text)))]),e!==t.data[t.data.length-1]?s("span",{staticClass:"legend-separator"},[t._v("|")]):t._e()],1)}))},a=[],n=(s("cadf"),s("551c"),s("097d"),{props:["data"]}),r=n,o=(s("a046"),s("2877")),c=Object(o["a"])(r,i,a,!1,null,"ea96999c",null);c.options.__file="legend.vue";e["a"]=c.exports},f333:function(t,e,s){},fae5:function(t,e,s){}}]);