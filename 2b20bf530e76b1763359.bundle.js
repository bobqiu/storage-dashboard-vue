(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08d21ba2","chunk-09817a2e"],{"07b2":function(e,t,n){var s=n("4cee"),r=n("3a50"),a=n("5761")("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),s(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}},"0c93":function(e,t,n){var s=n("fffe"),r=n("6a37"),a=n("03a4"),i=n("5896"),o=n("50a7");e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,h=4==e,l=6==e,p=5==e||l,f=t||o;return function(t,o,d){for(var m,g,v=a(t),w=r(v),b=s(o,d,3),k=i(w.length),x=0,C=n?f(t,k):c?f(t,0):void 0;k>x;x++)if((p||x in w)&&(m=w[x],g=b(m,x,v),e))if(n)C[x]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return x;case 2:C.push(m)}else if(h)return!1;return l?-1:u||h?h:C}}},"2d16d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKEAAAAdCAMAAAD1h/yKAAAAe1BMVEUAAABzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxzfoxyNFd7AAAAKHRSTlMA4T9wT5BggNPwoQ/4BLEeMKkKwMWGKJoTulVHN+fLdhjzw31p2lrsGYqQ6AAABNhJREFUWMPNltuWojAQRSvcDBBAQG4Kivfz/184qQQaWuehZ5yH2Wu1RmKS3ZWqRFpwfUtNvyM672mhF9ep5XyREdXO/lbF+ukp3OrXODyRJizpn5Bhonnv8jzviZunqScv+GQJMeMSlQCUMxa0gTHEhrIsO+/0C33OCRNh8doV4IsNEcrJ0IVDdHNntNP2gIoSKTNj+EhxrwQMgj5HYmb/blh5huub4XccD5FTOGHYsOFNYmj2QaDuQbD/XHCLL9J3Q28yeDVMvBWJ3fJ+v70tuxzHcXiJ4+JzQ38xVO2PDWOsiMmpEDlX5PFs6Dtyzo5PSQYsuD/OQ47hDbhNMaQj7gFdYWP46ABZoQqCBu7HhgesOL4Zpr4h/10epriSU2bTLAo32tIGj54ahe4wnktK5DP+2DDHmvqnu2zOgDQhD8eCqLh3qPy8Ow4KkJSN2HB/lSP4WLA4Q1Ppc3cwjZ8bBpAcnwo5G/bYFOf7JT/ierCVQknHR+zHBLZC5ooRr71lZOiMoRJiwFmIEA7vq7iLMDyDu1p2YmyltPrTtlHA4LafGnbQpMup47wYCmm4s0A0c4TDx3OXRo2/ce/hSPTNMBhwSoG0Pkgo59Mbbzmp5fvN50Rb26gjb11d0Tpf64yzJX0Q80gz0uHbxAd7zR+u/+LGC5NVu6D/iyVuSzz/K5bcW+Xkf4Wt39e6/o9IljNwORvdn5+lf7bY3994S13mrzffXmju5dW49HnemGWu4kBU5yHUjiv8YjfBFYEpZt9/mHd5HIl7L2ZsGmLwWz1M+jRRnI7nsAwSM0VsNlG41AvNselfjZIkWRsv+77z/Uagm799sLnhUTzortwUlsB0Ero80RN4JiwM5Pw4DG3+HHMBMdL2K9FbiXPaKaQJT2EMXWzIwVBeBqD6vqs90C27vjbkczhWGM0rEM2GD5QcKMgXQw8az6wm4E2GmeL7OcmRrwxzlK3ukri+GEY8sYL3duONS+W8GBZnVXBb+jgXk2FgfjEkh3ZtaNctkZvVrkLE1nBjw9k2+8Wwhcrsjf9MXgxts1tOF7s1cJfTZ2WYBsHpqG66XWKvRzwmw1YgzAPtx4YBk8LlQKu2VSrmJVwPvjXkYZbF0MPFNkJsf2OYIVyf0Aebj+83XwBD2pshhf7cTYbUVvzdfGRDCxveWCDFzRhSjt4YSjhvhoE14U7v1ZAB1rdcPlfI/GwxrOJ43D9Vr3sak7mjNWTGQELyFjlMxIYXeCY81nB8yoQNOfxM/C2GnXnn4fqvtYbX2XAElnhxDTDV68035yFV8DkObU+sYQzdsuYMDVGv8pADnWRZEiJjQx5/ZcPKrhqrS/JlOOJs4lZDFbRDb0swmA0DyDnnlr0Uick2TfpiGMHfQlCF+gBpDf35f8vWhlf9VEpqsLGG1Ck2rBUOxKLpt1rOEz3DhY18086eyCbD/onTqm5LWLazrSqWX7CbjV9CbX1UNKBKBmTGcByQuieJjtaGd/QZUPe4T4aZQkicnuj8HcJaG4qI8fg8FE30hGyJZ5N+84TPtX2P8iPQJZTuNFykyWVnefC+ldyq13eKkHmvv123u11O7s6xd0rWDMC9KtZ3Six2PGSvH7WBCOxTyW9OGiLM9bS1sLjmTlFKnkw0Mq2qJNv0ZsU0SOgXAButEJ4iF7wAAAAASUVORK5CYII="},"3a50":function(e,t,n){var s=n("af55");e.exports=Array.isArray||function(e){return"Array"==s(e)}},"4b3f":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bsc-login",on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.loginSubmit("loginForm")}}},[e.spinShow?s("Spin",{attrs:{size:"large",fix:""}}):e._e(),e.showSelectUser?e._e():s("div",{staticClass:"tab-login"},[s("div",{staticClass:"header"},[s("img",{attrs:{src:n("2d16d"),alt:"logo"}}),s("span",[e._v(e._s(e.$t("LOGIN.LANGUAGE")))]),s("div",{staticClass:"select-language"},[s("div",{staticClass:"border-triangle-external"}),s("div",{staticClass:"border-triangle"}),s("span",{on:{click:function(t){e.changeLang("en")}}},[e._v("English")]),s("span",{on:{click:function(t){e.changeLang("cn")}}},[e._v("中文")])])]),s("div",{staticClass:"body"},[e._m(0),s("form",{ref:"loginForm",staticClass:"form-login",model:{value:e.loginForm,callback:function(t){e.loginForm=t},expression:"loginForm"}},[s("div",{staticClass:"email"},[s("span",[s("Icon",{attrs:{type:"ios-person",size:18}})],1),s("input",{directives:[{name:"bfocus",rawName:"v-bfocus"},{name:"model",rawName:"v-model",value:e.loginForm.username,expression:"loginForm.username"}],attrs:{type:"text",required:"",autofocus:"",placeholder:e.$t("LOGIN.USERNAME"),minlength:"2",id:"username"},domProps:{value:e.loginForm.username},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"username",t.target.value)}}})]),s("div",{staticClass:"password"},[s("span",[s("Icon",{attrs:{type:"unlocked",size:18}})],1),s("input",{directives:[{name:"bfocus",rawName:"v-bfocus"},{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],staticClass:"input-password",attrs:{type:"password",required:"",minlength:"6",placeholder:e.$t("LOGIN.USERPWD"),id:"password"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}}),s("span",{class:{showPw:e.showPassword},on:{click:e.showPw}},[s("Icon",{attrs:{type:"eye",size:18}})],1)]),e.needCheckCode?s("div",{staticClass:"checkCode"},[s("span",[s("Icon",{attrs:{type:"key",size:18}})],1),s("input",{directives:[{name:"bfocus",rawName:"v-bfocus"},{name:"model",rawName:"v-model",value:e.loginForm.checkCode,expression:"loginForm.checkCode"}],staticClass:"input-checkCode",attrs:{type:"text",required:e.needCheckCode,minlength:"5",placeholder:e.$t("LOGIN.CHECKCODE"),id:"checkCode"},domProps:{value:e.loginForm.checkCode},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"checkCode",t.target.value)}}}),s("span",{on:{click:function(t){return t.stopPropagation(),e.changeCheckCode(t)}}},[s("img",{staticClass:"checkCodeImg",attrs:{src:e.checkCodeUrl,alt:"验证码"}})])]):e._e(),s("div",{staticClass:"keep"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.keepEmail,expression:"keepEmail"}],attrs:{type:"checkbox",id:"bsc-checkbox"},domProps:{checked:Array.isArray(e.keepEmail)?e._i(e.keepEmail,null)>-1:e.keepEmail},on:{click:e.keep,change:function(t){var n=e.keepEmail,s=t.target,r=!!s.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);s.checked?i<0&&(e.keepEmail=n.concat([a])):i>-1&&(e.keepEmail=n.slice(0,i).concat(n.slice(i+1)))}else e.keepEmail=r}}}),s("label",{attrs:{for:"bsc-checkbox"}},[s("span"),e._v(e._s(e.$t("LOGIN.KEEP_EMAIL")))])]),s("div",{staticClass:"login"},[s("Button",{staticClass:"login-button",attrs:{loading:e.isSubmiting},on:{click:function(t){t.stopPropagation(),e.loginSubmit("loginForm")}}},[e._v(e._s(e.$t("LOGIN.BUTTON_LOGIN")))])],1),e._m(1)])]),s("div",{staticClass:"footer"},[s("div",{staticClass:"foot-text"},[e._v("\n        Copyright © 2015-"+e._s(e.currentYear)+" BaishanCloud. All rights Reserved.\n      ")])])]),s("div",{staticClass:"card-login"},[e.showSelectUser?s("div",{staticClass:"tab-register"},[s("div",{staticClass:"header"},[s("img",{attrs:{src:n("cf05"),alt:"logo"}}),e.subUserList.length>0?s("Input",{staticClass:"search-input",attrs:{placeholder:"search here"},on:{"on-change":e.handleSearchSubUser},model:{value:e.searchSubUserInput,callback:function(t){e.searchSubUserInput=t},expression:"searchSubUserInput"}}):e._e(),s("a",{on:{click:e.toUserMange}},[e._v(e._s(e.$t("LOGIN.USER_MANAGE")))])],1),s("div",{staticClass:"wrap"},[s("div",{staticClass:"body"},[e.subUserList.length>0?s("div",{staticClass:"card-wrap"},e._l(e.searchedSubUserList,function(t){return s("div",{key:t.ts,staticClass:"card-user",on:{click:function(n){e.selectSubUser(t)}}},[s("span",{staticClass:"info"},[s("Icon",{attrs:{type:"person"}}),e._v(" "+e._s(t.username)+"\n              ")],1),s("span",{staticClass:"info"},[s("Icon",{attrs:{type:"briefcase"}}),e._v(" "+e._s(t.company)+"\n              ")],1),s("span",{directives:[{name:"show",rawName:"v-show",value:t.type&&1===t.type,expression:"user.type && user.type===1"}],staticClass:"icon"},[s("Icon",{attrs:{type:"star"}})],1)])})):e._e(),0!==e.subUserList.length||this.userFetching?this.userFetching?s("div",{staticClass:"warning"},[s("Spin",{attrs:{size:"large",fix:""}})],1):e._e():s("div",{staticClass:"warning",on:{click:function(t){e.toUserMange()}}},[e._v("暂无绑定用户,\n            "),s("span",[e._v("点击绑定或新增用户")])])])])]):e._e()]),s("Modal",{attrs:{title:"验证信息","ok-text":"确定",styles:{top:"330px",width:"385px"}},on:{"on-ok":e.loginBySms},model:{value:e.openSmsModel,callback:function(t){e.openSmsModel=t},expression:"openSmsModel"}},[s("div",{staticClass:"sms-model-wrap",on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.loginBySms()}}},[s("span",{staticClass:"sms-tip"},[e._v(e._s(e.smsTextTip))]),s("div",{staticClass:"sms-input-wrap"},[s("span",{},[e._v("验证码：")]),s("Input",{staticClass:"sms-input",attrs:{size:"large",type:"text",maxlength:6,autofocus:"",placeholder:"message number"},model:{value:e.smscode,callback:function(t){e.smscode=t},expression:"smscode"}})],1),s("span",{staticClass:"sms-send-tip"},[e._v("没有收到手机短信验证码？请尝试\n        "),s("a",{directives:[{name:"show",rawName:"v-show",value:e.sending,expression:"sending"}]},[e._v("发送中...")]),s("a",{directives:[{name:"show",rawName:"v-show",value:!e.sending,expression:"!sending"}],on:{click:function(t){return t.stopPropagation(),e.sendSms(t)}}},[e._v("再次发送")])])])])],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"slogn"},[e._v("WELCOME TO"),n("br"),e._v("THE BAISHANCLOUD DIGITAL WORLD")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register dn"},[e._v("\n          没有账号？\n          "),n("a",[e._v("立即申请")])])}],a=(n("c154"),n("dc2a"),n("98e2")),i=(n("5616"),n("bc72"),n("20a2"),n("327b")),o=(n("25d7"),n("9382"),n("b267")),c=(n("cf54"),n("5a09"),n("365c")),u=n("7340"),h=n("ff66"),l=n("4360"),p=n("329b"),f={directives:{bfocus:{inserted:function(e){$(e).on("focus",function(){_.each($(e).parent().parent().children(),function(e){$(e).hasClass("input-focus")&&$(e).removeClass("input-focus")}),$(e).parent().addClass("input-focus")})}}},data:function(){return{spinShow:!1,currentYear:(new Date).getFullYear().toString(),smscode:"",isSubmiting:!1,sending:!1,smsTextTip:"",needCheckCode:!1,checkCodeUrl:"",openSmsModel:!1,lang:l["a"].state.lang,selectedCustomer:"",keepEmail:JSON.parse(localStorage.getItem("keepEmail"))||!1,loginForm:{username:localStorage.getItem("loginEmail"),password:"",checkCode:""},showPassword:!1,userFetching:!1,searchSubUserInput:"",searchedSubUserList:[]}},beforeRouteEnter:function(e,t,n){n(function(e){"False"!==window.dashboard_conf.onlineMode&&!t.name&&e.initCheck(),t.name&&e.clearSubUserState()})},created:function(){"False"===window.dashboard_conf.onlineMode&&(this.needCheckCode=!1),this.searchedSubUserList=this.subUserList},computed:{subUserList:{get:function(){return this.$store.getters.users||[]},set:function(){}},isSub:function(){var e=this.$store.state.current.perms;return null===e||0===e.length},showSelectUser:{get:function(){return"manage"===this.$store.getters.mode},set:function(){}}},methods:{initCheck:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n,s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.spinShow=!0,e.next=4,Object(c["H"])();case 4:return t=e.sent,n=t.isLogin,s=t.captcha,r=t.ticket,this.needCheckCode=s,e.next=11,Promise.all([r&&this.$store.dispatch("setBaseInfo",{token:r}),s&&this.changeCheckCode(),n&&this.getInfo()]);case 11:this.spinShow=!1,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),this.spinShow=!1;case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}(),loginBySms:function(){var e=this;this.openSmsModel=!1,Object(c["i"])(parseInt(this.smscode)).then(function(t){var n=t.ticket;return e.$store.state.token=n,e.saveToken()},function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(n){var s,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s=n.message,r=n.code,-4001!==r){t.next=12;break}return e.smsTextTip=s,a=[!1,!1,""],e.openSmsModel=a[0],e.sending=a[1],e.smscode=a[2],t.next=9,e.changeCheckCode();case 9:e.loginForm=Object(i["a"])({},e.loginForm,{checkCode:""}),t.next=13;break;case 12:-1===r&&(e.$Message.error(s),e.openSmsModel=!0,e.smscode="");case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())},sendSms:function(){var e=this;this.sending=!0,Object(c["x"])().then(function(t){var n=t.message,s=t.code;s&&n&&(e.sending=!1)})},loginSubmit:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.formValid(t)){this.keepEmail?localStorage.setItem("loginEmail",this.loginForm.username):localStorage.setItem("loginEmail","");try{this.isSubmiting=!0,"True"===window.dashboard_conf.onlineMode?this.saveToken():Object(c["B"])({username:this.loginForm.username,password:this.loginForm.password}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.setBaseInfo(t);case 2:return e.next=4,Object(c["c"])();case 4:return s=e.sent,e.abrupt("return",n.$store.dispatch("setBaseInfo",{keys:s}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}catch(e){this.isSubmiting=!1}}case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),saveToken:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store.state.token,!t){e.next=5;break}return e.abrupt("return",this.setInfo(t));case 5:return e.abrupt("return",this.getTicketSSO());case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store.state.token,t){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",this.setInfo(t));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),setInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("setToken",t);case 2:return e.prev=2,e.t0=this,e.t1=i["a"],e.t2={},e.next=8,Object(c["A"])();case 8:return e.t3=e.sent,e.t4={token:t},e.t5=(0,e.t1)(e.t2,e.t3,e.t4),e.next=13,e.t0.setBaseInfo.call(e.t0,e.t5);case 13:return e.next=15,Object(c["c"])();case 15:return n=e.sent,e.next=18,this.$store.dispatch("setBaseInfo",{keys:n});case 18:e.next=24;break;case 20:e.prev=20,e.t6=e["catch"](2),this.$Message.error(e.t6.message),Object(u["f"])();case 24:case"end":return e.stop()}},e,this,[[2,20]])}));return function(t){return e.apply(this,arguments)}}(),getTicketSSO:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={appId:window.dashboard_conf.appID,name:this.loginForm.username,pwd:this.loginForm.password,keepLogin:!1,language:1},this.needCheckCode&&Object.assign(t,{captcha:this.loginForm.checkCode}),e.next=4,Object(c["O"])(t).then(function(e){var t=e.ticket;return n.$store.state.token=t,n.saveToken()},function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.isSubmiting=!1,s=t.message,r=t.code,e.next=4,n.changeCheckCode();case 4:return-4e3===r?(n.smsTextTip=s,n.openSmsModel=!0):-1002===r?(n.needCheckCode=!0,n.$Message.error(s)):-1003===r?n.$Message.error(s):-1===r&&n.$Message.error(s),e.abrupt("return",Promise.reject(t));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),changeCheckCode:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["h"])();case 2:this.checkCodeUrl=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),setBaseInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("setBaseInfo",{current:t,token:t.token,perms:t.perms||[]}).then(function(){Object(u["a"])(["LIST_USERS","SUB","BIND_USER"])?n.adminMode(t):Object(u["a"])("OPS")?n.toIndex(t,"/system/group"):n.toIndex(t)});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),adminMode:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.userFetching=!0,e.next=4,this.$store.dispatch("setToken",t.token);case 4:return this.$store.dispatch("setBaseInfo",{manager:[t]}),e.next=7,this.$store.dispatch("getUsers");case 7:n=e.sent,this.userFetching=!1,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.userFetching=!1;case 14:n.length>0?(this.searchedSubUserList=this.subUserList=n,this.showSelectUser=!1):this.switchUser(t,"user");case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),handleSearchSubUser:function(){if(this.searchSubUserInput){var e=this.searchSubUserInput.split(""),t=new RegExp(e.join(".*"));this.searchedSubUserList=this.subUserList.filter(function(e){return t.test(e.username)||t.test(e.company)})}else this.searchedSubUserList=this.subUserList},selectSubUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.$store.state,e.next=3,this.$store.dispatch("setBaseInfo",{current:t,manager:Object(a["a"])(n.manager).concat([n.current]),perms:t.perms||[]});case 3:return e.next=5,Object(c["c"])(t.username);case 5:return s=e.sent,e.next=8,this.$store.dispatch("setBaseInfo",{keys:s});case 8:this.switchUser();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),clearSubUserState:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["a"])();case 2:return e.next=4,this.$store.dispatch("cleanState");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),toIndex:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"/overview",e.next=3,this.$store.dispatch("setBaseInfo",t);case 3:return e.next=5,this.$store.dispatch("setToken",t.token);case 5:return e.next=7,this.$store.dispatch("cleanState");case 7:this.$router.push(this.isSub?"/bucket":n),p["default"].config.lang=this.lang;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),switchUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1&&void 0!==s[1]?s[1]:"/overview",e.t0=Object.keys(t).length>0,!e.t0){e.next=6;break}return e.next=6,this.$store.dispatch("setBaseInfo",t);case 6:return e.next=8,this.$store.dispatch("cleanState");case 8:this.$router.push(this.isSub?"/bucket":n),p["default"].config.lang=this.lang;case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),changeLang:function(e){p["default"].config.lang=e,this.lang=e,sessionStorage.removeItem("lang"),sessionStorage.setItem("lang",e)},refreshMenu:function(){this.$store.dispatch("refreshMenu")},showPw:function(){var e=$(".input-password")[0];"password"===e.type?(this.showPassword=!0,e.type="text"):(this.showPassword=!1,e.type="password")},formValid:function(e){var t=this,n=!0;return _.each($(this.$refs[e]).find("input"),function(e){return"username"!==$(e).attr("id")||e.validity.valid?"password"!==$(e).attr("id")||e.validity.valid?"checkCode"!==$(e).attr("id")||e.validity.valid?void 0:(t.$Message.error("请核对验证码"),n=!1,n):(t.$Message.error("请核对密码"),n=!1,n):(t.$Message.error("请核对用户名"),n=!1,n)}),n},keep:function(){localStorage.setItem("keepEmail",this.keepEmail)},toUserMange:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store.state,e.t0=t.manager.length>0,!e.t0){e.next=5;break}return e.next=5,this.$store.dispatch("setBaseInfo",{current:t.manager[0],perms:t.manager[0].perms});case 5:return e.next=7,Object(c["c"])(this.$store.state.current.username);case 7:return n=e.sent,e.next=10,this.$store.dispatch("setBaseInfo",{keys:n});case 10:return e.next=12,this.$store.dispatch("cleanState");case 12:p["default"].config.lang=this.lang,this.$router.push("user");case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},d=f,m=(n("b218"),n("048f")),g=Object(m["a"])(d,s,r,!1,null,"60ae355b",null);g.options.__file="Login.vue";t["default"]=g.exports},"50a7":function(e,t,n){var s=n("07b2");e.exports=function(e,t){return new(s(e))(t)}},5616:function(e,t,n){var s=n("53da"),r=n("69d8"),a=n("9a0d").f,i=n("e853").f,o=n("c28a"),c=n("2fc4"),u=s.RegExp,h=u,l=u.prototype,p=/a/g,f=/a/g,d=new u(p)!==p;if(n("f711")&&(!d||n("cce3")(function(){return f[n("5761")("match")]=!1,u(p)!=p||u(f)==f||"/a/i"!=u(p,"i")}))){u=function(e,t){var n=this instanceof u,s=o(e),a=void 0===t;return!n&&s&&e.constructor===u&&a?e:r(d?new h(s&&!a?e.source:e,t):h((s=e instanceof u)?e.source:e,s&&a?c.call(e):t),n?this:l,u)};for(var m=function(e){e in u||a(u,e,{configurable:!0,get:function(){return h[e]},set:function(t){h[e]=t}})},g=i(h),v=0;g.length>v;)m(g[v++]);l.constructor=u,u.prototype=l,n("7e22")(s,"RegExp",u)}n("2943")("RegExp")},b15a:function(e,t,n){},b218:function(e,t,n){"use strict";var s=n("b15a"),r=n.n(s);r.a},c154:function(e,t,n){"use strict";var s=n("8718"),r=n("0c93")(5),a="find",i=!0;a in[]&&Array(1)[a](function(){i=!1}),s(s.P+s.F*i,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("ccb3")(a)},cf05:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAAAkCAMAAADsIhWcAAAAq1BMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Nr6iZAAAAOHRSTlMAkLHR8HADUIChQDAFwB/64fYV67iaegrmDmTYhtyLRTobrRColXVgTVgnI2gsy1PGxEk1bFwuEnfx42MAAAY0SURBVFjD1ZjpcpswFIUxmwFjYzCLF7zG++44ac77P1klXWHAkJm24/7INx1HBAP6kK50GuWvcV2ljGn+yWWmKy83C4evZ4qMWPmOE3Av/6aLZtbcGjkXdnyM0yhsi1NttPiPN2jy0FH+BzYyRvXdbzabEbxLk7OvUVCR0xanGP78bV5SSDqdzhU79qm8msTHg7tSQwMFLH5sZQod6Ky5s3I27Pi9OUaguLeeIxWsJXQ7RsbLFT6R06hXONuSca1CFY13cwjPIAUNjLWqqj3c2OfLFULk9NxaBeMx5/5EYa5pPjSNjYYfk8J+hlEr+W+1MEeR939QaJfYKB1dB3S9pc3mxVoIWLGPsTKMl1usUWRZqzBpSdQ6BRQR5975fDfgrXOF7nqYz9YXo6GIP/j7cuZuBhCTZSDmC64z5eJrCSksRgA+2jAcx2lj/WKDE8oM6xQ0VdL9phYGXSwUZWPTBuaA4W2Vk5hIgav0gF7cueDKfD397cUKE5Rp/1M5LzAeKEEfE7ETa/0RLv3hRxqpOoCT8jkTW9sNVjDC8cUGZp/2NPaGbxB0/kHBgs63vLsHsS3gQwP7JPraIdudDzr4aBGvDhczPhl8Chl/oGCzOd1H7Dg7ruBOgPXdmTabITx2JzNymcI8NXbO/loMGIkN+L9erUDhYizaSxqQGgVfl3ikkMMVOh5yep1saytmpBNTOKV9eOyfPaOKeW24sHg7G/p7VaGvSXT+1WbjgQ2df2HcXtqNNDY2lzPWNQohEO4ALPeu0aOBfnW4OFAg7tUv2x/tS9aM25vSqaD9lBYOUxpQTR5HGi+SY2jvzXAiBigZ2hQBXhoubo/XLUPGD4LCxWOZu0OwVX4QFC68x14zkiHjB0HhIl+p4yxk/Bh+QdB8nlhD5ccwqZRvW4aMn4IMFyslZ1MXMoYqZ5lO5THbht+ptVUb4hfReXRdiW03UuVioKp3WiKazSa9o5XdMGVjT2lwddMWQ34ysO3CI5ON3Q4nM/nsRtaJmC3vrB+LyHLMarggCiGjPmyroi97iOjGMaDRYD7mXzcLI3J+ujoA2lZYy5ANhz9KhWB04FELrTzz9CEIA0rJWSdUkSXomllNuGChJ/kuZDQQvr297VNZJBYYk1yhBUSHpBXCO1QVmkI9U/A7DwUzBCKnZfQwTkoKMw99o+U0PGhJVeHGclnkw79XwoUDYF0fMuhqzhiRkv2JpW8+FNbwXZ7kPH9TVViA4QXU8xDhQ2ErH3jyEJcUzujOpXxcUaCe7HvQKuEiAqAVQsbqSYFOie7NgDQFpg+Fo/wf98GsTqQvDwvLwwf1fDvCZ6awQJdm9HEXFBVOwGeWHMa1ClSy7lO4SHQwfn0TMhp8+KbDK84DYTvme6D9UAj6wDmV8bOLlSMghSMfARVnUmg66AVSoU9DSmQKdEUiCxjofKMwAAZP4WIHzqQUMqrlHM6pPi2+B+rJo5w7C49bp4FQkJDClU+dC7AnBeZvk4ILrGsVUnTz1WZaoyDoYfAULkLQ/K4NGfw2hmGkbfhM7CKm3gHYSQXOYDsZMYk9V9BUAVOgrwnrVCoM+pjSKHiIaxUs9HMFJ1dYlRR0DMrhIvAgmBZDRrWcbT6/VFx5+4bwoRB8ifLzsXiuBYsGK0KXFHgVdxOhoGW5ZrsbFBV2QEAtA5grVrY6LmGTglQelMOFAcIuhoyqwhY4MdujEsd8ogZS4YpYGo7LCrSGbS2+AjikwLsyEQoT+NTVG9SiQuDJGWZqvPebLISOYeUKKeCWw8UZhJ/UhgxSEJcEH/C+vjwvePNgSIUI/YAeGZYVqOsjzISKVAh6ns8VDh7aA1pcdqVFNYLPZ4M7Ea9x7mFFVY5WpmAePTEVCuGig4xdIWQET7VgqYDKbFV+uw9lAU0qzHvorrcbZn55UlihyxfJFZ9QLinQ7R1acHorftPQ5D1YNgRfSnIGwrQxlvXY4MudFQI2DXRjtewCvROTLISLITIWhZDxWVmR/Ggw4P28Ame+8wSyFvZtGtFKwOBlHAM6L+sWKTBCUlDeRTV6UUIv8ZHOklQXi4thivlk+eLZE1coCPRo/td5kKg9Qz9c15Uts3yGqD1Fl8lWxuNE4XKXUe3IbzxvWKZkULwrAAAAAElFTkSuQmCC"},e853:function(e,t,n){var s=n("6220"),r=n("bea0").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,r)}}}]);