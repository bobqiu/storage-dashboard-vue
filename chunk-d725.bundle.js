(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d725"],{"3f2f":function(e,t,a){},"41f1":function(e,t,a){},"61fc":function(e,t,a){"use strict";var r=a("3f2f"),s=a.n(r);s.a},"87d6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bsc-edit-styles"},[a("div",{staticClass:"layout-bsc-toolbar"},[a("a",{staticClass:"btn-back",on:{click:function(t){e.back()}}},[a("Icon",{attrs:{type:"chevron-left"}})],1),a("bsc-breadcrumb",[a("bsc-breadcrumb-item",{attrs:{href:e.bucketPath}},[e._v(e._s(e.$t("STORAGE.TITLE")))]),a("bsc-breadcrumb-item",{attrs:{href:e.styleListHref}},[e._v(e._s(e.$t("STORAGE.PIC_STYLE")))]),a("bsc-breadcrumb-item",[e._v(e._s(e.$t("STORAGE.CREATE_STYLE"))+" ("+e._s(e.bucket)+")")])],1)],1),a("Tabs",{attrs:{size:"small",animated:!1},model:{value:e.tabValue,callback:function(t){e.tabValue=t},expression:"tabValue"}},[a("Tab-pane",{staticClass:"clearfix",attrs:{label:e.$t("STORAGE.BASIC_EDIT"),name:"primary",disabled:e.primaryDisable}},[a("div",{staticClass:"page-left"},[a("span",{staticClass:"preview-span"},[e._v(e._s(e.$t("STORAGE.PREVIEW"))+":")]),a("div",{staticClass:"test-img"},[a("img",{attrs:{src:e.previewUrl}}),a("div",[a("Button",{attrs:{type:"primary",disabled:e.primaryPreviewError},on:{click:e.primaryPreview}},[e._v(e._s(e.$t("STORAGE.PREVIEW")))])],1)])]),a("div",{staticClass:"page-right"},[a("Form",{ref:"basicForm",attrs:{model:this,rules:e.ruleValidate,"label-width":0,inline:""}},[a("div",{staticClass:"form-item mar-b-0"},[a("span",{staticClass:"form-label required-item"},[e._v(e._s(e.$t("STORAGE.STYLE_NAME"))+" : ")]),a("FormItem",{attrs:{prop:"transformation"}},[a("Input",{staticClass:"line-width",attrs:{placeholder:e.$t("STORAGE.STYLE_NAME")},model:{value:e.transformation,callback:function(t){e.transformation=t},expression:"transformation"}})],1)],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.STYLE_CROP"))+" : ")]),a("Radio-group",{staticStyle:{"vertical-align":"text-top"},model:{value:e.general.crop,callback:function(t){e.$set(e.general,"crop",t)},expression:"general.crop"}},[a("Radio",{attrs:{label:"noCrop"}},[e._v(e._s(e.$t("STORAGE.CROP_NONE")))]),a("Radio",{attrs:{label:"scale"}},[e._v(e._s(e.$t("STORAGE.CROP_SCALE")))]),a("Radio",{attrs:{label:"fit"}},[e._v(e._s(e.$t("STORAGE.CROP_FIT")))]),a("Radio",{attrs:{label:"fill"}},[e._v(e._s(e.$t("STORAGE.CROP_FILL")))]),a("p",{staticStyle:{height:"10px"}}),a("Radio",{attrs:{label:"crop"}},[e._v(e._s(e.$t("STORAGE.CROP_CROP")))]),a("Radio",{attrs:{label:"thumb"}},[e._v(e._s(e.$t("STORAGE.CROP_THUMB")))]),a("Radio",{attrs:{label:"pad"}},[e._v(e._s(e.$t("STORAGE.CROP_PAD")))])],1)],1),"fit"===e.general.crop?a("div",{staticClass:"form-item"},[a("Select",{staticClass:"sub-select",model:{value:e.general.fitType,callback:function(t){e.$set(e.general,"fitType",t)},expression:"general.fitType"}},e._l(e.fitList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1):e._e(),"pad"===e.general.crop?a("div",{staticClass:"form-item"},[a("Select",{staticClass:"sub-select",staticStyle:{"margin-right":"8px"},model:{value:e.general.padType,callback:function(t){e.$set(e.general,"padType",t)},expression:"general.padType"}},e._l(e.padList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),a("ColorPickerInput",{staticStyle:{display:"inline"},model:{value:e.general.padColor,callback:function(t){e.$set(e.general,"padColor",t)},expression:"general.padColor"}})],1):e._e(),"fill"===e.general.crop?a("div",{staticClass:"form-item"},[a("Select",{staticClass:"sub-select",model:{value:e.general.fillType,callback:function(t){e.$set(e.general,"fillType",t)},expression:"general.fillType"}},e._l(e.fillList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1):e._e(),"thumb"===e.general.crop?a("div",{staticClass:"form-item"},[a("Select",{staticClass:"sub-select",model:{value:e.general.thumbType,callback:function(t){e.$set(e.general,"thumbType",t)},expression:"general.thumbType"}},e._l(e.thumbList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1):e._e(),"crop"===e.general.crop?a("div",{staticClass:"gravity-preview clearfix"},[a("div",{staticClass:"left"},[a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.SELECT_LOCATION"))+" : ")]),a("Select",{staticStyle:{width:"265px"},model:{value:e.general.gravity,callback:function(t){e.$set(e.general,"gravity",t)},expression:"general.gravity"}},e._l(e.cropGravityList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),"xy_center"===e.general.gravity||"noGravity"===e.general.gravity?a("div",{staticClass:"form-item"},[a("div",{staticClass:"gravity-xy"},[a("span",{staticClass:"input-box-label"},[e._v("x : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:e.general.x,callback:function(t){e.$set(e.general,"x",t)},expression:"general.x"}}),a("span",[e._v("px")])],1),a("span",{staticClass:"input-box-label"},[e._v("y : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:e.general.y,callback:function(t){e.$set(e.general,"y",t)},expression:"general.y"}}),a("span",[e._v("px")])],1)])]):e._e()]),a("div",{class:["right",e.gravityImg]})]):e._e(),"noCrop"!==e.general.crop?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.FIT_STYLE"))+" : ")]),a("Radio-group",{model:{value:e.general.dataType,callback:function(t){e.$set(e.general,"dataType",t)},expression:"general.dataType"}},[a("Radio",{attrs:{label:"pixel"}},[e._v(e._s(e.$t("STORAGE.PIXEL"))+"(px)")]),a("Radio",{attrs:{label:"percent"}},[e._v(e._s(e.$t("STORAGE.PERCENT"))+"(%)")])],1),a("span",[e._v("W : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:e.general.width,callback:function(t){e.$set(e.general,"width",e._n(t))},expression:"general.width"}}),"pixel"===e.general.dataType?a("span",[e._v("px")]):a("span",[e._v("%")])],1),a("span",[e._v("H : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:e.general.height,callback:function(t){e.$set(e.general,"height",e._n(t))},expression:"general.height"}}),"pixel"===e.general.dataType?a("span",[e._v("px")]):a("span",[e._v("%")])],1)],1):e._e(),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.STYLE_QUALITY"))+" : ")]),a("Slider",{staticClass:"pic-slider",attrs:{min:1},model:{value:e.general.quality,callback:function(t){e.$set(e.general,"quality",t)},expression:"general.quality"}}),a("Input",{staticClass:"slider-input",attrs:{number:""},model:{value:e.general.quality,callback:function(t){e.$set(e.general,"quality",t)},expression:"general.quality"}})],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.STYLE_FORMAT"))+" : ")]),a("Select",{staticClass:"line-width",model:{value:e.general.format,callback:function(t){e.$set(e.general,"format",t)},expression:"general.format"}},e._l(e.formatList,function(t){return a("Option",{key:t.value,attrs:{value:t}},[e._v(e._s(t))])}))],1),a("div",{staticClass:"separator-line"}),a("div",{staticClass:"form-item"},[a("Button",{attrs:{type:"ghost"},on:{click:function(t){e.setMore=!e.setMore}}},[e._v(e._s(e.$t("STORAGE.MORE_SET"))+"\n              "),e.setMore?a("Icon",{attrs:{type:"chevron-up"}}):a("Icon",{attrs:{type:"chevron-down"}})],1)],1),e.setMore?a("div",[a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.FLIP_MODE"))+" : ")]),a("Radio-group",{staticStyle:{"vertical-align":"text-top"},model:{value:e.general.angleType,callback:function(t){e.$set(e.general,"angleType",t)},expression:"general.angleType"}},e._l(e.angleList,function(t){return a("Radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1),"angle"===e.general.angleType?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.ANGLE"))+" : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:e.general.angle,callback:function(t){e.$set(e.general,"angle",t)},expression:"general.angle"}}),a("span",[e._v("Â°")])],1)]):e._e(),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.FILTER_EFFECTS")))]),a("div",{staticClass:"form-item-right"},e._l(e.effectList,function(t){return a("div",{key:t.name,staticClass:"effect-radio-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.general.effect,expression:"general.effect"}],class:["effect-radio",t.value],attrs:{type:"radio",name:t.value},domProps:{value:t.value,checked:e._q(e.general.effect,t.value)},on:{change:function(a){e.$set(e.general,"effect",t.value)}}}),a("label",{attrs:{for:t.value}},[a("span",{staticClass:"effect-span-center"},[e._v(e._s(t.name))])])])}))]),"brightness"===e.general.effect?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.BRIGHTNESS_VALUE"))+" : ")]),a("Slider",{staticClass:"pic-slider",attrs:{min:-300,max:300},model:{value:e.general.brightnessValue,callback:function(t){e.$set(e.general,"brightnessValue",t)},expression:"general.brightnessValue"}}),a("Input",{staticClass:"slider-input",attrs:{number:""},model:{value:e.general.brightnessValue,callback:function(t){e.$set(e.general,"brightnessValue",t)},expression:"general.brightnessValue"}})],1):e._e(),"blur"===e.general.effect?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.BLUR_VALUE"))+" : ")]),a("Slider",{staticClass:"pic-slider mar-l15",attrs:{min:1,max:2e3},model:{value:e.general.blurValue,callback:function(t){e.$set(e.general,"blurValue",t)},expression:"general.blurValue"}}),a("Input",{staticClass:"slider-input",attrs:{number:""},model:{value:e.general.blurValue,callback:function(t){e.$set(e.general,"blurValue",t)},expression:"general.blurValue"}})],1):e._e(),"sharpen"===e.general.effect?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.SHARPEN_VALUE"))+" : ")]),a("Slider",{staticClass:"pic-slider mar-l15",attrs:{min:1,max:2e3},model:{value:e.general.sharpenValue,callback:function(t){e.$set(e.general,"sharpenValue",t)},expression:"general.sharpenValue"}}),a("Input",{staticClass:"slider-input",attrs:{number:""},model:{value:e.general.sharpenValue,callback:function(t){e.$set(e.general,"sharpenValue",t)},expression:"general.sharpenValue"}})],1):e._e(),"oil_paint"===e.general.effect?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.OIL_VALUE"))+": ")]),a("Slider",{staticClass:"pic-slider mar-l15",attrs:{min:1,max:8},model:{value:e.general.oilValue,callback:function(t){e.$set(e.general,"oilValue",t)},expression:"general.oilValue"}}),a("Input",{staticClass:"slider-input",attrs:{number:""},model:{value:e.general.oilValue,callback:function(t){e.$set(e.general,"oilValue",t)},expression:"general.oilValue"}})],1):e._e(),"color"===e.general.effect?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.COLOR"))+" : ")]),a("div",{staticClass:"form-item-right"},e._l(e.colorList,function(t){return a("div",{key:t.name,staticClass:"effect-radio-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.general.color,expression:"general.color"}],class:["effect-radio",t.value],attrs:{type:"radio",name:t.value},domProps:{value:t.value,checked:e._q(e.general.color,t.value)},on:{change:function(a){e.$set(e.general,"color",t.value)}}}),a("label",{attrs:{for:t.value}},[a("span",{staticClass:"effect-span-center"},[e._v(e._s(t.name))])])])}))]):e._e(),"color"===e.general.effect?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.COLOR_VALUE"))+" : ")]),a("Slider",{staticClass:"pic-slider",attrs:{min:1,max:100},model:{value:e.general.colorValue,callback:function(t){e.$set(e.general,"colorValue",t)},expression:"general.colorValue"}}),a("Input",{staticClass:"slider-input",attrs:{number:""},model:{value:e.general.colorValue,callback:function(t){e.$set(e.general,"colorValue",t)},expression:"general.colorValue"}})],1):e._e(),"pixelate"===e.general.effect?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.PX_VALUE"))+" : ")]),a("Slider",{staticClass:"pic-slider",attrs:{min:1,max:400},model:{value:e.general.pixelateValue,callback:function(t){e.$set(e.general,"pixelateValue",t)},expression:"general.pixelateValue"}}),a("Input",{staticClass:"slider-input",model:{value:e.general.pixelateValue,callback:function(t){e.$set(e.general,"pixelateValue",t)},expression:"general.pixelateValue"}})],1):e._e(),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.BORDER"))+" : ")]),a("i-switch",{attrs:{size:"large"},model:{value:e.general.border,callback:function(t){e.$set(e.general,"border",t)},expression:"general.border"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("STORAGE.ON")))]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("STORAGE.OFF")))])]),e.general.border?a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:e.general.borderSize,callback:function(t){e.$set(e.general,"borderSize",t)},expression:"general.borderSize"}}),a("span",[e._v("px")])],1):e._e(),e.general.border?a("ColorPickerInput",{staticStyle:{display:"inline"},model:{value:e.general.borderColor,callback:function(t){e.$set(e.general,"borderColor",t)},expression:"general.borderColor"}}):e._e()],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.RADIUS"))+" : ")]),a("Slider",{staticClass:"pic-slider",attrs:{min:0,max:1001,"tip-format":e.radiusFormater},model:{value:e.general.radius,callback:function(t){e.$set(e.general,"radius",t)},expression:"general.radius"}}),a("Input",{staticClass:"slider-input",on:{"on-change":e.radiusChange},model:{value:e.radiusValue,callback:function(t){e.radiusValue=t},expression:"radiusValue"}})],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.OPACITY"))+" : ")]),a("Slider",{staticClass:"pic-slider",attrs:{disabled:!e.isOpacity},model:{value:e.general.opacity,callback:function(t){e.$set(e.general,"opacity",t)},expression:"general.opacity"}}),a("Input",{staticClass:"slider-input",attrs:{number:""},model:{value:e.general.opacity,callback:function(t){e.$set(e.general,"opacity",t)},expression:"general.opacity"}})],1)]):e._e(),a("div",{staticClass:"separator-line"}),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.STYLE_WATERMARKER"))+" : ")]),a("i-switch",{attrs:{size:"large"},model:{value:e.markOpen,callback:function(t){e.markOpen=t},expression:"markOpen"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("STORAGE.ON")))]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("STORAGE.OFF")))])])],1),e.markOpen?a("div",[a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.WATERMARKER_TYPE"))+" : ")]),a("Radio-group",{model:{value:e.markType,callback:function(t){e.markType=t},expression:"markType"}},[a("Radio",{attrs:{label:"text"}},[e._v(e._s(e.$t("STORAGE.TEXT_WATERMARKER")))]),a("Radio",{attrs:{label:"img"}},[e._v(e._s(e.$t("STORAGE.IMG_WATERMARKER")))])],1)],1),"text"==e.markType?a("div",[a("div",{staticClass:"form-item mar-b-0"},[a("span",{staticClass:"form-label required-item"},[e._v(e._s(e.$t("STORAGE.TEXT_CONTENT"))+" : ")]),a("FormItem",{attrs:{prop:"mark.text"}},[a("Input",{staticClass:"line-width",attrs:{placeholder:e.$t("STORAGE.TEXT_CONTENT")},model:{value:e.mark.text,callback:function(t){e.$set(e.mark,"text",t)},expression:"mark.text"}})],1)],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.TEXT_STYLE"))+" : ")]),a("Select",{staticStyle:{width:"135px","margin-right":"10px"},model:{value:e.fontStyle.font_family,callback:function(t){e.$set(e.fontStyle,"font_family",t)},expression:"fontStyle.font_family"}},e._l(e.fontList,function(t){return a("Option",{key:t.value,attrs:{value:t.label}},[e._v(e._s(t.label))])})),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:e.fontStyle.font_size,callback:function(t){e.$set(e.fontStyle,"font_size",t)},expression:"fontStyle.font_size"}}),a("span",[e._v("px")])],1),a("ColorPickerInput",{staticStyle:{display:"inline"},model:{value:e.fontStyle.font_color,callback:function(t){e.$set(e.fontStyle,"font_color",t)},expression:"fontStyle.font_color"}}),e._v(e._s(e.fontStyle.font_color)+"\n                ")],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.BACKGROUBD"))+" : ")]),a("ColorPickerInput",{staticStyle:{display:"inline"},model:{value:e.fontStyle.background,callback:function(t){e.$set(e.fontStyle,"background",t)},expression:"fontStyle.background"}}),e._v(e._s(e.fontStyle.background)+"\n                ")],1)]):e._e(),"img"==e.markType?a("div",[a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label required-item"},[e._v(e._s(e.$t("STORAGE.WATERMARKER_PIC"))+" : ")]),a("div",{staticClass:"upload-box",class:{"red-border":e.imgError}},[a("upload",{attrs:{bucket:e.bucket,prefix:e.uploadPrefix,accept:"image/png",checkFileType:!0,validateMessage:e.$t("STORAGE.WATER_PNG_VALID_INFO"),validation:e.uploadValidation},on:{uploadSuccess:e.uploadSuccess}})],1)])]):e._e(),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.WATERMARKER_POSITION"))+" : ")]),a("div",{staticClass:"gravity-selector"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mark.gravity,expression:"mark.gravity"}],attrs:{type:"radio",value:"north_west",name:"gravity"},domProps:{checked:e._q(e.mark.gravity,"north_west")},on:{change:function(t){e.$set(e.mark,"gravity","north_west")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mark.gravity,expression:"mark.gravity"}],attrs:{type:"radio",value:"north",name:"gravity"},domProps:{checked:e._q(e.mark.gravity,"north")},on:{change:function(t){e.$set(e.mark,"gravity","north")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mark.gravity,expression:"mark.gravity"}],attrs:{type:"radio",value:"north_east",name:"gravity"},domProps:{checked:e._q(e.mark.gravity,"north_east")},on:{change:function(t){e.$set(e.mark,"gravity","north_east")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mark.gravity,expression:"mark.gravity"}],attrs:{type:"radio",value:"west",name:"gravity"},domProps:{checked:e._q(e.mark.gravity,"west")},on:{change:function(t){e.$set(e.mark,"gravity","west")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mark.gravity,expression:"mark.gravity"}],attrs:{type:"radio",value:"center",name:"gravity"},domProps:{checked:e._q(e.mark.gravity,"center")},on:{change:function(t){e.$set(e.mark,"gravity","center")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mark.gravity,expression:"mark.gravity"}],attrs:{type:"radio",value:"east",name:"gravity"},domProps:{checked:e._q(e.mark.gravity,"east")},on:{change:function(t){e.$set(e.mark,"gravity","east")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mark.gravity,expression:"mark.gravity"}],attrs:{type:"radio",value:"south_west",name:"gravity"},domProps:{checked:e._q(e.mark.gravity,"south_west")},on:{change:function(t){e.$set(e.mark,"gravity","south_west")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mark.gravity,expression:"mark.gravity"}],attrs:{type:"radio",value:"south",name:"gravity"},domProps:{checked:e._q(e.mark.gravity,"south")},on:{change:function(t){e.$set(e.mark,"gravity","south")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mark.gravity,expression:"mark.gravity"}],attrs:{type:"radio",value:"south_east",name:"gravity"},domProps:{checked:e._q(e.mark.gravity,"south_east")},on:{change:function(t){e.$set(e.mark,"gravity","south_east")}}})]),a("div",{staticClass:"padding-setting"},[a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.PADDING_LEFT"))+" : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:e.mark.x,callback:function(t){e.$set(e.mark,"x",t)},expression:"mark.x"}}),a("span",[e._v("px")])],1)]),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.PADDING_TOP"))+" : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:e.mark.y,callback:function(t){e.$set(e.mark,"y",t)},expression:"mark.y"}}),a("span",[e._v("px")])],1)])])]),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[e._v(e._s(e.$t("STORAGE.OPACITY"))+" : ")]),a("Slider",{staticClass:"pic-slider",model:{value:e.mark.opacity,callback:function(t){e.$set(e.mark,"opacity",t)},expression:"mark.opacity"}}),a("Input",{staticClass:"slider-input",attrs:{number:""},model:{value:e.mark.opacity,callback:function(t){e.$set(e.mark,"opacity",t)},expression:"mark.opacity"}})],1)]):e._e(),a("div",{staticClass:"separator-line"}),a("div",{staticClass:"form-item clearfix line-button"},[a("div",{staticClass:"img-button"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.beforeBasicSubmit(!1)}}},[e._v(e._s(e.$t("PUBLIC.CONFIRMED")))])],1)])])],1)]),a("Tab-pane",{attrs:{label:e.$t("STORAGE.ADV_EDIT"),name:"senior"}},[a("div",{staticClass:"page-left"},[a("span",{staticClass:"preview-span"},[e._v(e._s(e.$t("STORAGE.PREVIEW"))+":")]),a("div",{staticClass:"test-img"},[a("img",{attrs:{src:e.seniorUrl}}),a("div",{staticClass:"img-button"},[a("Button",{attrs:{type:"primary"},on:{click:e.seniorPreview}},[e._v(e._s(e.$t("STORAGE.PREVIEW")))])],1)])]),a("div",{staticClass:"page-right"},[a("Form",{ref:"seniorForm",attrs:{model:this,rules:e.ruleValidate,"label-width":0,inline:""}},[a("div",{staticClass:"form-item mar-b-0"},[a("span",{staticClass:"form-label required-item"},[e._v(e._s(e.$t("STORAGE.STYLE_NAME"))+" : ")]),a("FormItem",{attrs:{prop:"transformation"}},[a("Input",{staticStyle:{width:"475px"},attrs:{placeholder:e.$t("STORAGE.STYLE_NAME")},model:{value:e.transformation,callback:function(t){e.transformation=t},expression:"transformation"}})],1)],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label required-item"},[e._v(e._s(e.$t("STORAGE.PROSCESS_PARAM"))+" : ")]),a("FormItem",{attrs:{prop:"instructions"}},[a("Input",{staticStyle:{width:"475px"},attrs:{type:"textarea",rows:6,placeholder:e.$t("STORAGE.SENIOR_INFO"),autosize:e.textareaMinrows},model:{value:e.instructions,callback:function(t){e.instructions=t},expression:"instructions"}})],1),a("p",{staticClass:"style-name-info"},[e._v(e._s(e.$t("STORAGE.PIC_EXAMPLE")))]),a("p",{staticClass:"style-name-info"},[e._v("c_fit,w_300,f_png--l_bs_logo,g_north_west,w_120,o_35,x_43,y_20,a_-10")]),a("p",{staticClass:"style-name-info dis-inline"},[e._v(e._s(e.$t("STORAGE.PARA_DESC")))]),a("a",{attrs:{href:"http://doc.bscstorage.com/doc/imgx/imgx_manual.html"}},[e._v(e._s(e.$t("STORAGE.SEE_COCUMENT")))])],1),a("div",{staticClass:"separator-line"}),a("div",{staticClass:"form-item clearfix line-button"},[a("div",{staticClass:"img-button"},[a("Button",{attrs:{type:"primary"},on:{click:e.beforeSeniorSubmit}},[e._v(e._s(e.$t("PUBLIC.CONFIRMED")))])],1)])])],1)])],1)],1)},s=[],i=(a("456d"),a("4f7f"),a("a481"),a("6762"),a("2fdb"),a("ac6a"),a("96cf"),a("3040")),n=(a("28a5"),a("cadf"),a("551c"),a("097d"),a("ff66")),l=a("7265"),o=a("36fa"),c=a("f2fa"),u=a("2587"),p=a.n(u),m=a("4194"),v=a.n(m),f=a("752a"),d=a("acc6"),g=a("c293"),h={components:{upload:o["a"],bscBreadcrumb:d["a"],bscBreadcrumbItem:d["a"].Item},data:function(){return{transformation:"",formatList:["original","png","webp","jpeg","jpg"],fontList:g["b"],mark:_.clone(g["e"]),markOpen:!1,markType:"text",general:_.clone(g["d"]),imgName:"",uploadPrefix:l["k"].overlay,uploadValidation:/^[\x00-\x2b\x2e\x30-\x39\x3b-\xff]+\.(png|PNG)$/,instructions:"",setMore:!1,fontStyle:_.clone(g["c"]),tabValue:"primary",primaryDisable:!1,previewUrl:T("q_100"),seniorUrl:T("q_100"),padList:[{value:"pad",label:this.$t("STORAGE.CROP_PAD")},{value:"lpad",label:this.$t("STORAGE.CROP_LPAD")},{value:"mpad",label:this.$t("STORAGE.CROP_MPAD")}],fillList:[{value:"fill",label:this.$t("STORAGE.CROP_FILL")},{value:"lfill",label:this.$t("STORAGE.CROP_LFILL")}],thumbList:[{value:"face",label:this.$t("STORAGE.CROP_FACE")},{value:"faces",label:this.$t("STORAGE.CROP_FACES")},{value:"face:center",label:this.$t("STORAGE.CROP_FACE_CENTER")},{value:"faces:center",label:this.$t("STORAGE.CROP_FACES_CENTER")}],fitList:[{value:"fit",label:this.$t("STORAGE.CROP_FIT")},{value:"mfit",label:this.$t("STORAGE.CROP_MFIT")},{value:"limit",label:this.$t("STORAGE.CROP_LFIT")}],angleList:[{value:"angle",label:this.$t("STORAGE.ANGLE_ROTATION")},{value:"vflip",label:this.$t("STORAGE.ANGLE_VFLIP")},{value:"hflip",label:this.$t("STORAGE.ANGLE_HFLIP")}],cropGravityList:[{value:"north_west",label:this.$t("STORAGE.GRAVITY_NORTH_WEST")},{value:"north",label:this.$t("STORAGE.GRAVITY_NORTH")},{value:"north_east",label:this.$t("STORAGE.GRAVITY_NORTH_EAST")},{value:"west",label:this.$t("STORAGE.GRAVITY_WEST")},{value:"center",label:this.$t("STORAGE.GRAVITY_CENTER")},{value:"east",label:this.$t("STORAGE.GRAVITY_EAST")},{value:"south_west",label:this.$t("STORAGE.GRAVITY_SOUTH_WEST")},{value:"south",label:this.$t("STORAGE.GRAVITY_SOUTH")},{value:"south_east",label:this.$t("STORAGE.GRAVITY_SOUTH_EAST")},{value:"noGravity",label:this.$t("STORAGE.GRAVITY_NOGRAVITY")},{value:"xy_center",label:this.$t("STORAGE.GRAVITY_XY_CENTER")},{value:"face",label:this.$t("STORAGE.CROP_FACE")},{value:"faces",label:this.$t("STORAGE.CROP_FACES")},{value:"face:center",label:this.$t("STORAGE.CROP_FACE_CENTER")},{value:"faces:center",label:this.$t("STORAGE.CROP_FACES_CENTER")}],effectList:[{name:this.$t("STORAGE.FILTER_EFFECTS_NONE"),value:"noEffect"},{name:this.$t("STORAGE.GRAYSCALE"),value:"grayscale"},{name:this.$t("STORAGE.AUTO_CONTRAST"),value:"auto_contrast"},{name:this.$t("STORAGE.BRIGHTNESS"),value:"brightness"},{name:this.$t("STORAGE.NEGATE"),value:"negate"},{name:this.$t("STORAGE.SHARPEN"),value:"sharpen"},{name:this.$t("STORAGE.BLUR"),value:"blur"},{name:this.$t("STORAGE.OIL_PAINT"),value:"oil_paint"},{name:this.$t("STORAGE.PIXELATE"),value:"pixelate"},{name:this.$t("STORAGE.ADD_COLOR"),value:"color"},{name:this.$t("STORAGE.IMPROVE"),value:"improve"}],colorList:[{name:this.$t("STORAGE.SEPIA"),value:"sepia"},{name:this.$t("STORAGE.RED"),value:"red"},{name:this.$t("STORAGE.GREEN"),value:"green"},{name:this.$t("STORAGE.BLUE"),value:"blue"},{name:this.$t("STORAGE.YELLOW"),value:"yellow"},{name:this.$t("STORAGE.CYAN"),value:"cyan"},{name:this.$t("STORAGE.MAGENTA"),value:"magenta"}],ruleValidate:{transformation:[{validator:this.validateName,trigger:"change"}],"mark.text":[{validator:this.validateText,trigger:"change"}],instructions:[{validator:this.validateInstructions,trigger:"change"}]},textareaMinrows:{minRows:6}}},computed:{bucket:function(){return this.$route.params.bucket},ruleName:function(){return this.$route.params.ruleName},paramsIS:function(){return"noIS"===this.$route.params.IS?"":this.$route.params.IS},key:function(){return this.$route.params.ruleName?l["k"].rules+this.$route.params.ruleName+".json":""},imgError:function(){return this.markOpen&&"img"===this.markType&&!this.imgName},styleListHref:function(){return"/bucket/".concat(this.bucket,"/pictureStyles")},isOpacity:function(){return"original"===this.general.format||"png"===this.general.format||"webp"===this.general.format},radiusValue:function(){return this.general.radius>=0&&this.general.radius<=1e3?this.general.radius:"max"},primaryPreviewError:function(){return this.markOpen&&"img"===this.markType&&!this.imgName},gravityImg:function(){return this.general.gravity.split(":")[0]},padColorError:function(){return!y(this.general.padColor)},borderColorError:function(){return!y(this.general.borderColor)},fontColorError:function(){return!y(this.fontStyle.font_color)},fontbackColorError:function(){return!y(this.fontStyle.background)},bucketPath:function(){return"/bucket/".concat(this.$route.params.bucket)}},watch:{general:{handler:function(){this.autoSaveAndPreview()},deep:!0},mark:{handler:function(){this.autoSaveAndPreview()},deep:!0}},mounted:function(){this.readStyles()},methods:{readStyles:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,i,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.ruleName||"noRuleName"===this.ruleName){e.next=24;break}return this.transformation=this.ruleName,this.instructions=this.paramsIS,e.next=5,Object(n["d"])("getObject",{Bucket:this.bucket,Key:this.key});case 5:if(t=e.sent,a=JSON.parse(new v.a.TextDecoder("utf-8").decode(t.Body)),!C(a)){e.next=21;break}if(r=k(a),this.general=r.ganeral,this.mark=r.mark,s=r.overlay,!s){e.next=19;break}return e.next=15,this.readOverlayFile(s);case 15:return i=e.sent,/.+\.json$/.test(s)?(l=JSON.parse(new v.a.TextDecoder("utf-8").decode(i)),this.fontStyle=l,this.fontStyle.font_color="#"+l.font_color,this.fontStyle.background="#"+l.background):this.imgName=s,e.next=19,E(s,i);case 19:e.next=23;break;case 21:this.tabValue="senior",this.primaryDisable=!0;case 23:this.seniorUrl=this.previewUrl=T(this.paramsIS);case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),submitStyles:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],!this.styles2Save()){e.next=12;break}return a=new Blob([JSON.stringify(this.styles2Save())],{type:"application/json"}),e.prev=3,e.next=6,Object(n["d"])("putObject",{Bucket:this.bucket,Key:l["k"].rules+this.transformation+".json",ContentType:"application/json",Body:a});case 6:!t&&this.$router.push({name:"pictureStyles",params:{bucket:this.bucket}}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),this.$Message.success(this.$t("STERAGE.SAVE_FAILED"));case 12:case"end":return e.stop()}},e,this,[[3,9]])}));return function(){return e.apply(this,arguments)}}(),beforeBasicSubmit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.padColorError||this.borderColorError||this.fontColorError||this.fontbackColorError||this.imgError?this.$Message.error(this.$t("PUBLIC.FORM_VALID_FAILED")):this.$refs["basicForm"].validate(function(a){a?e.submitStyles(t):e.$Message.error(e.$t("PUBLIC.FORM_VALID_FAILED"))})},autoSaveAndPreview:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("img"!==this.markType){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,this.$Loading.start(),e.next=6,this.beforeBasicSubmit(!0);case 6:return e.next=8,this.primaryPreview();case 8:this.$Loading.finish(),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](2),this.$Message.error(e.t0),this.$Loading.error();case 15:case"end":return e.stop()}},e,this,[[2,11]])}));return function(){return e.apply(this,arguments)}}(),beforeSeniorSubmit:function(){var e=this;this.$refs["seniorForm"].validate(function(t){t?e.submitStyles():e.$Message.error(e.$t("PUBLIC.FORM_VALID_FAILED"))})},primaryPreview:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=R(this.general),a=c["default"].methods.json2instruction(t).instruction,!this.markOpen){e.next=18;break}if("text"!==this.markType){e.next=8;break}s=new Blob([JSON.stringify(this.font2Save(this.fontStyle))],{type:"application/json"}),r=S(this.mark,this.transformation),e.next=12;break;case 8:return e.next=10,this.readOverlayFile(this.imgName);case 10:s=e.sent,r=S(this.mark,this.imgName);case 12:return i=c["default"].methods.json2instruction(r),e.next=15,E(i.overlayFileName,s);case 15:this.previewUrl=T("".concat(a,"--").concat(i.instruction)),e.next=19;break;case 18:this.previewUrl=T(a);case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),seniorPreview:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=/.*l_text:(.*):.*/.exec(this.instructions),a=this.instructions.split("l_")[1],!t){e.next=12;break}return r=t[1]+".json",e.next=6,this.readOverlayFile(r);case 6:return s=e.sent,e.next=9,E(r,s);case 9:this.seniorUrl=T(this.instructions),e.next=20;break;case 12:if(!a){e.next=20;break}return i=a.split(",")[0].length<a.split("-")[0].length?a.split(",")[0]+".png":a.split("-")[0]+".png",e.next=16,Object(n["d"])("getObject",{Bucket:this.bucket,Key:l["k"].overlay+i});case 16:return o=e.sent,e.next=19,E(i,o.Body);case 19:this.seniorUrl=T(this.instructions);case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),styles2Save:function(){var e=[];if("primary"===this.tabValue){var t=R(this.general);if(e.push(t),this.markOpen){var a={};"text"===this.markType?(this.saveFont(this.fontStyle),a=S(this.mark,this.transformation)):"img"===this.markType&&(a=S(this.mark,this.imgName)),e.push(a)}}else{var r=this.instructions.split("--");r.forEach(function(t){var a={};t.split(",").forEach(function(e){var t=/^[a-z0-9]+_/g,r=g["a"][t.exec(e)[0]],s=e.substr(t.lastIndex);a[r]=s}),e.push(a)})}return e},readOverlayFile:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={Bucket:this.bucket,Key:l["k"].overlay+t},e.next=3,Object(n["d"])("getObject",a);case 3:return r=e.sent,e.abrupt("return",r.Body);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),saveFont:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=new Blob([JSON.stringify(this.font2Save(t))],{type:"application/json"}),e.prev=1,e.next=4,Object(n["d"])("putObject",{Bucket:this.bucket,Key:l["k"].overlay+this.transformation+"_font.json",ContentType:"application/json",Body:a});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),this.$Message.error(this.$t("STERAGE.SAVE_FAILED"));case 9:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),font2Save:function(e){return{font_family:e.font_family,font_size:parseInt(e.font_size),font_color:b(e.font_color),text:this.mark.text,background:b(e.background)}},uploadSuccess:function(e){this.imgName=e},radiusFormater:function(e){return e>1e3?"max":e},radiusChange:function(e){var t=parseInt(e.target.value);this.general.radius=t>=1&&t<=1e3?t:Date.now()},getRuleList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,Object(n["d"])("listObjects",{Bucket:this.bucket,Prefix:l["k"].rules});case 3:return a=e.sent,r=a.Contents,_.each(r,function(e){if(/\.json$/.test(e.Key)){var a=/.*\/(.*)\.json/.exec(e.Key)[1];a!==s.ruleName&&t.push(a)}}),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),padColorChange:function(e){this.general.padColor=e},fontbackColorChange:function(e){this.fontStyle.background=e},fontColorChange:function(e){this.fontStyle.font_color=e},borderColorChange:function(e){this.general.borderColor=e},isRuleNameUnique:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getRuleList();case 2:if(t=e.sent,"noRuleName"===this.ruleName||!t.includes(this.transformation)){e.next=6;break}return this.$Message.warning(this.$t("STORAGE.RULE_NAME_EXISTS")),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),validateName:function(e,t,a){t?/^[a-z0-9_]{1,20}$/.test(t)?this.isRuleNameUnique()?a():a(new Error(this.$t("STORAGE.RULENAME_EXISTS"))):a(new Error(this.$t("STORAGE.RULENAME_INFO"))):a(new Error(this.$t("STORAGE.RULENAME_EMPTY_INFO")))},validateText:function(e,t,a){this.markOpen&&"text"===this.markType&&!/.+/.test(t)?a(new Error(this.$t("STORAGE.TEXT_CONTENT_INFO"))):a()},validateInstructions:function(e,t,a){var r=t.split("--");t?r.length>4?a(new Error(this.$t("STORAGE.NO_MORE_4"))):a():a(new Error(this.$t("STORAGE.INS_REQUIRED")))},validateColor:function(e,t,a){y(t)?a():a(new Error(this.$t("STORAGE.INS_REQUIRED")))},back:function(){this.$router.back()}}},b=function(e){var t=e,a=/^#([a-f\d])([a-f\d])([a-f\d])$/i;return a.test(t)&&(t=t.replace(a,function(e,t,a,r){return"#".concat(t).concat(t).concat(a).concat(a).concat(r).concat(r)})),t.substr(1).toLowerCase()},y=function(e){var t=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,a=/^#([a-f\d])([a-f\d])([a-f\d])$/i;return t.test(e)||a.test(e)},E=function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,a){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=/.+\.png$/.test(t)?"application/x-png":"application/json",e.next=3,Object(n["c"])({key:{accesskey:g["f"],secretkey:g["g"]}});case 3:return s=e.sent,e.abrupt("return",new Promise(function(e,i){return s.putObject({Bucket:"image-example",Key:l["k"].overlay+t,ContentType:r,Body:a},function(t,a){return t&&p.a.Message.error(t,5),t?i(t):e(a)})}));case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),T=function(e){return f["i"]+e+"/dashboard.jpg?"+Date.now()},R=function(e){var t={};"pad"===e.crop?(t.crop=e.padType,t.background=b(e.padColor)):"fill"===e.crop?t.crop=e.fillType:"fit"===e.crop?t.crop=e.fitType:"thumb"===e.crop?(t.crop="thumb",t.gravity=e.thumbType):"crop"===e.crop?(t.crop=e.crop,"noGravity"===e.gravity?(t.x=e.x,t.y=e.y):"xy_center"===e.gravity?(t.gravity=e.gravity,t.x=e.x,t.y=e.y):t.gravity=e.gravity):"noCrop"!==e.crop&&(t.crop=e.crop),"noCrop"!==e.crop&&(t.width="pixel"===e.dataType?parseInt(e.width):parseFloat(e.width/100),t.height="pixel"===e.dataType?parseInt(e.height):parseFloat(e.height/100)),t.quality=e.quality,"original"!==e.format&&(t.format=e.format),"angle"===e.angleType&&0!==e.angle?t.angle=parseInt(e.angle):"vflip"!==e.angleType&&"hflip"!==e.angleType||(t.angle=e.angleType);var a=e.effect;return"oil_paint"===a?t.effect=a+":"+e.oilValue:"brightness"===a?t.effect=a+":"+e.brightnessValue:"blur"===a?t.effect=a+":"+e.blurValue:"pixelate"===a?t.effect=a+":"+e.pixelateValue:"sharpen"===a?t.effect=e.sharpenValue>=1&&e.sharpenValue<=400?"".concat(a,":").concat(e.sharpenValue):"".concat(a,":100"):"color"===a?t.effect=e.color+":"+e.colorValue:"noEffect"!==a&&(t.effect=a),e.border&&(t.border=e.borderSize+"_"+b(e.borderColor)),100!==e.opacity&&(t.opacity=e.opacity),e.radius>0&&e.radius<=1e3?t.radius=parseInt(e.radius):0===e.radius||(t.radius="max"),t},S=function(e,t){var a={x:parseInt(e.x),y:parseInt(e.y),gravity:e.gravity,opacity:e.opacity};return"text"===e.type?a.overlay="text:"+t+"_font:"+e.text:"img"===e.type&&(a.overlay=t.split(".png")[0]),a},C=function(e){var t=[],a=new Set;return e.forEach(function(e){var r=Object.keys(e);r.includes("overlay")&&(t.push("overlay"),a.add("overlay")),r.includes("crop")&&(t.push("crop"),a.add("crop")),r.includes("angle")&&(t.push("angle"),a.add("angle")),r.includes("effect")&&(t.push("effect"),a.add("effect"))}),t.length===a.size},k=function(e){var t=_.clone(g["d"]),a=_.clone(g["e"]),r="";return e.forEach(function(e){Object.keys(e).includes("overlay")?(r=/^text:.+/.test(e.overlay)?e.overlay.split(":")[1]+".json":e.overlay+".png",_.assignIn(a,x(e))):_.assignIn(t,O(e))}),{ganeral:t,mark:a,overlay:r}},O=function(e){var t,a=_.clone(e),r=e.crop;r?"mfit"===r||"fit"===r||"limit"===r?(t="fit",a.fitType=r):"pad"===r||"mpad"===r||"lpad"===r?(t="pad",a.padType=r,e.background&&(a.padColor="#"+e.background.substr(0,6))):"fill"===r||"lfill"===r?(t="fill",a.fillType=r):"thumb"===r?(t="thumb",a.thumbType=e.gravity):"crop"===r?(t="crop",a.x=e.x||0,a.y=e.y||0,a.gravity=e.gravity?e.gravity:"noGravity"):t=r:t="noCrop",a.crop=t,e.width<1&&(a.width=e.width>1?e.width:100*e.width,a.dataType=e.width>1?"pixel":"percent"),e.height&&(a.height=e.height>1?e.height:100*e.height,a.dataType=e.height>1?"pixel":"percent"),e.angle&&(a.angleType="vflip"===e.angle||"hflip"===e.angle?e.angle:"angle",a.angle="vflip"===e.angle||"hflip"===e.angle?0:e.angle);var s=e.effect;if(s){var i=["grayscale","oil_paint","negate","brightness","blur","pixelate","sharpen","auto_contrast","improve"],n=["sepia","red","green","blue","yellow","cyan","magenta"];i.includes(s.split(":")[0])?(a.effect=s.split(":")[0],s.split("oil_piant:")[1]?a.oilValue=parseInt(s.split("oil_piant:")[1]):s.split("brightness:")[1]?a.brightnessValue=parseInt(s.split("brightness:")[1]):s.split("blur:")[1]?a.blurValue=parseInt(s.split("blur:")[1]):s.split("pixelate:")[1]?a.pixelateValue=parseInt(s.split("pixelate:")[1]):s.split("sharpen:")[1]&&(a.sharpenValue=parseInt(s.split("sharpen:")[1]))):n.includes(s.split(":")[0])&&(a.effect="color",a.color=s.split(":")[0],s.split(":")[1]&&(a.colorValue=parseInt(s.split(":")[1])))}var l=e.border;return l&&(a.border=!0,a.borderSize=l.split("_")[0]||1,a.borderColor=l.split("_")[1].substr(0,6)?"#"+l.split("_")[1].substr(0,6):"#BF4040"),e.quality&&(a.quality=parseInt(e.quality)),e.opacity&&(a.opacity=parseInt(e.opacity)),e.radius&&(a.radius=e.radius>=1&&e.radius<=1e3?parseInt(e.radius):1001),a},x=function(e){var t=_.clone(g["e"]);if(t.open=!0,"text:"===e.overlay.substr(0,5)){t.type="text";var a=/(text:).*:/g;a.exec(e.overlay),t.text=e.overlay.substr(a.lastIndex)}else t.type="img";return e.opacity&&(t.opacity=parseInt(e.opacity)),e.gravity&&(t.gravity=e.gravity),e.x&&(t.x=e.x),e.y&&(t.y=e.y),t},A=h,$=(a("61fc"),a("99a0"),a("2877")),G=Object($["a"])(A,r,s,!1,null,"aa9f5316",null);G.options.__file="EditStyles.vue";t["default"]=G.exports},"99a0":function(e,t,a){"use strict";var r=a("41f1"),s=a.n(r);s.a}}]);