(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6228"],{"752a":function(t,e,a){"use strict";a.d(e,"t",function(){return c}),a.d(e,"j",function(){return d}),a.d(e,"u",function(){return m}),a.d(e,"c",function(){return p}),a.d(e,"f",function(){return v}),a.d(e,"g",function(){return f}),a.d(e,"h",function(){return C}),a.d(e,"v",function(){return _}),a.d(e,"l",function(){return h}),a.d(e,"p",function(){return E}),a.d(e,"q",function(){return g}),a.d(e,"s",function(){return b}),a.d(e,"r",function(){return R}),a.d(e,"o",function(){return I}),a.d(e,"n",function(){return V}),a.d(e,"m",function(){return x}),a.d(e,"k",function(){return O}),a.d(e,"e",function(){return k}),a.d(e,"a",function(){return A}),a.d(e,"b",function(){return D}),a.d(e,"i",function(){return L}),a.d(e,"d",function(){return $}),a.d(e,"y",function(){return y}),a.d(e,"A",function(){return N}),a.d(e,"x",function(){return W}),a.d(e,"z",function(){return P}),a.d(e,"w",function(){return T});var i=a("dd1f"),o="".concat(location.protocol,"//"),n="/v2/",s="/2012-09-25/",r=function(t){return o+i["a"].apiHost+n+t},l=function(t){return o+i["a"].transcoderHOST+s+t},u=function(t){return o+i["a"].imgxHOST+t},c=r("superuser/redirect/bucket"),d=r("node/list"),m=(r("list/partition"),r("user/list/sub")),p=(r("user/create/sub_user"),r("user/list/sub_acl"),r("user/update/sub_acl"),r("user/create/user"),r("user/list/bound_user")),v=(r("user/list/user"),r("user/bind/user"),r("user/unbind/user"),r("group/list")),f=r("group/move"),C=r("group/read_only"),_=r("traffic/list"),h=r("partition/used/stats"),E=r("partition/used/detail"),g=r("partition/used/list"),b=r("partition/used/set"),R=r("partition/used/move"),I=r("partition/used/delete"),V=r("partition/unused/list"),x=r("partition/unused/add"),O=r("partition/deleted/list"),k=r("retrieve"),A=r("access"),D=r("user/add/service"),L=u("/image-example/"),$=r("custom_domain"),y=function(t){return r("bill/transcode".concat(t))},N=function(t){return l(t)},W=function(t){return r("bill/storage_old".concat(t))},P=function(t){return r("bill/storage".concat(t))},T=function(t){return r("bill/storage_bandwidth".concat(t))}},"7ef3":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bsc-template-edit bsc-edit"},[a("div",{staticClass:"layout-bsc-toolbar"},[a("Breadcrumb",[a("Breadcrumb-item",{attrs:{href:"/video/template"}},[t._v(t._s(t.$t("VIDEO.TEMPLATE_CONFIGURATION")))]),a("Breadcrumb-item",[t._v(t._s(t.$t("VIDEO.NEW_TEMPLATE")))])],1)],1),a("Form",{ref:"basicValidate",attrs:{model:t.template,rules:t.ruleValidate,"label-width":175}},[a("div",{staticClass:"separator-line"}),a("div",{staticClass:"editBlock"},[a("div",{staticClass:"section-separator"},[a("div",{staticClass:"separator-body"},[a("span",{staticClass:"separator-icon"}),a("span",{staticClass:"separator-info"},[t._v(t._s(t.$t("VIDEO.BASE_INFO")))])])]),a("div",{staticClass:"form-item"},[a("FormItem",{attrs:{label:t.$t("VIDEO.TEMPLATE_NAME"),prop:"Name",required:""}},[a("Input",{staticClass:"line-width",attrs:{placeholder:t.$t("VIDEO.TEMPLATE_NAME")},model:{value:t.template.Name,callback:function(e){t.$set(t.template,"Name",e)},expression:"template.Name"}})],1)],1),a("div",{staticClass:"form-item"},[a("FormItem",{attrs:{label:t.$t("VIDEO.TEMPLATE_DESCRIPTION"),prop:"Description"}},[a("Input",{staticClass:"line-width",attrs:{placeholder:t.$t("VIDEO.ENTER_THE_TEMPLATE_DESCRIPTION_TEXT"),type:"textarea",autosize:!0},model:{value:t.template.Description,callback:function(e){t.$set(t.template,"Description",e)},expression:"template.Description"}})],1)],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.PACKAGE_FORMAT"))+" : ")]),a("Radio-group",{on:{"on-change":t.containerChange},model:{value:t.template.Container,callback:function(e){t.$set(t.template,"Container",e)},expression:"template.Container"}},t._l(t.containerList,function(e){return a("Radio",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],1),"mp4"===t.template.Container?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v("FastStart : ")]),a("i-switch",{model:{value:t.template.FastStart,callback:function(e){t.$set(t.template,"FastStart",e)},expression:"template.FastStart"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t.$t("VIDEO.ON")))]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t.$t("VIDEO.OFF")))])])],1):t._e()])]),a("div",{staticClass:"separator-line"}),a("div",{staticClass:"editBlock"},[a("div",{staticClass:"section-separator"},[a("div",{staticClass:"separator-body"},[a("span",{staticClass:"separator-icon"}),a("span",{staticClass:"separator-info"},[t._v(t._s(t.$t("VIDEO.VIDEO_PARAMETER_CONFIGURATION")))])])]),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.ENCODING"))+" : ")]),a("Radio-group",{model:{value:t.template.Video.Codec,callback:function(e){t.$set(t.template.Video,"Codec",e)},expression:"template.Video.Codec"}},t._l(t.videoCodecList,function(e){return e.container.includes(t.template.Container)?a("Radio",{key:e.value,attrs:{disabled:t.videoDisabled,label:e.value}},[t._v(t._s(e.name))]):t._e()}))],1),"H.264"===t.template.Video.Codec?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.CODING_PROFILE"))+" : ")]),a("Radio-group",{model:{value:t.template.Video.CodecOptions.Profile,callback:function(e){t.$set(t.template.Video.CodecOptions,"Profile",e)},expression:"template.Video.CodecOptions.Profile"}},t._l(t.videoProfileList,function(e){return a("Radio",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],1):t._e(),"H.264"===t.template.Video.Codec?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.CODING_LEVEL"))+" : ")]),a("Radio-group",{model:{value:t.template.Video.CodecOptions.Level,callback:function(e){t.$set(t.template.Video.CodecOptions,"Level",e)},expression:"template.Video.CodecOptions.Level"}},t._l(t.videoLevelList,function(e){return a("Radio",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],1):t._e(),"H.264"===t.template.Video.Codec||"H.265"===t.template.Video.Codec?a("div",{staticClass:"form-item"},[a("Form",{ref:"videoValidate",attrs:{model:t.template.Video,rules:t.ruleValidate,"label-width":5,inline:""}},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.FIXED_KEY_FRAME_SPACING"))+" : ")]),a("i-switch",{model:{value:t.template.Video.FixedGOP,callback:function(e){t.$set(t.template.Video,"FixedGOP",e)},expression:"template.Video.FixedGOP"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t.$t("VIDEO.ON")))]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t.$t("VIDEO.OFF")))])]),a("FormItem",{attrs:{prop:"KeyframesMaxDist"}},[a("InputNumber",{attrs:{disabled:!t.template.Video.FixedGOP},model:{value:t.template.Video.KeyframesMaxDist,callback:function(e){t.$set(t.template.Video,"KeyframesMaxDist",e)},expression:"template.Video.KeyframesMaxDist"}}),t._v(" "+t._s(t.$t("VIDEO.SECOND"))+" (1~100000)\n        ")],1)],1)],1):t._e(),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.BIT_RATE"))+" : ")]),a("Radio-group",{model:{value:t.auxiliary.videoBitRate,callback:function(e){t.$set(t.auxiliary,"videoBitRate",e)},expression:"auxiliary.videoBitRate"}},[a("Radio",{attrs:{label:"auto",disabled:t.videoDisabled}},[t._v(t._s(t.$t("VIDEO.ADAPTIVE")))]),a("Radio",{attrs:{label:"value",disabled:t.videoDisabled}},[t._v(t._s(t.$t("VIDEO.USER_DEFINED")))])],1),a("InputNumber",{attrs:{min:1,disabled:"auto"===t.auxiliary.videoBitRate},model:{value:t.auxiliary.videoBitRateValue,callback:function(e){t.$set(t.auxiliary,"videoBitRateValue",e)},expression:"auxiliary.videoBitRateValue"}}),t._v(" Kbps\n    ")],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.FRAME_RATE"))+" : ")]),a("Select",{staticClass:"line-width",attrs:{disabled:t.videoDisabled},model:{value:t.template.Video.FrameRate,callback:function(e){t.$set(t.template.Video,"FrameRate",e)},expression:"template.Video.FrameRate"}},t._l(t.videoFrameRateList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}))],1),"auto"!==t.template.Video.Codec?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.RESOLUTION"))+" : ")]),a("Radio-group",{model:{value:t.auxiliary.resolution,callback:function(e){t.$set(t.auxiliary,"resolution",e)},expression:"auxiliary.resolution"}},[a("Radio",{attrs:{label:"auto"}},[t._v(t._s(t.$t("VIDEO.UNALTERED")))]),a("Radio",{attrs:{label:"value"}},[t._v(t._s(t.$t("VIDEO.USER_DEFINED"))+"\n          "),a("InputNumber",{attrs:{min:1,disabled:!("value"===t.auxiliary.resolution),placeholder:t.$t("VIDEO.WIDTH")},model:{value:t.auxiliary.width,callback:function(e){t.$set(t.auxiliary,"width",e)},expression:"auxiliary.width"}}),a("InputNumber",{attrs:{min:1,disabled:!("value"===t.auxiliary.resolution),placeholder:t.$t("VIDEO.HEIGHT")},model:{value:t.auxiliary.height,callback:function(e){t.$set(t.auxiliary,"height",e)},expression:"auxiliary.height"}})],1),a("Radio",{attrs:{label:"only_width"}},[t._v("\n          "+t._s(t.$t("VIDEO.HIGHLY_ADAPTIVE"))+"\n          "),a("InputNumber",{attrs:{min:1,disabled:!("only_width"===t.auxiliary.resolution),placeholder:t.$t("VIDEO.WIDTH")},model:{value:t.auxiliary.only_width,callback:function(e){t.$set(t.auxiliary,"only_width",e)},expression:"auxiliary.only_width"}})],1),a("Radio",{attrs:{label:"only_height"}},[t._v("\n          "+t._s(t.$t("VIDEO.WIDTH_ADAPTIVE"))+"\n          "),a("InputNumber",{attrs:{min:1,disabled:!("only_height"===t.auxiliary.resolution),placeholder:t.$t("VIDEO.HEIGHT")},model:{value:t.auxiliary.only_height,callback:function(e){t.$set(t.auxiliary,"only_height",e)},expression:"auxiliary.only_height"}})],1)],1)],1):t._e(),"auto"!==t.template.Video.Codec?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.ASPECT_RATIO"))+" : ")]),a("Radio-group",{model:{value:t.template.Video.AspectRatio,callback:function(e){t.$set(t.template.Video,"AspectRatio",e)},expression:"template.Video.AspectRatio"}},t._l(t.aspectRatioList,function(e){return a("Radio",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.name))])}))],1):t._e()]),a("div",{staticClass:"separator-line"}),a("div",{staticClass:"editBlock"},[a("div",{staticClass:"section-separator"},[a("div",{staticClass:"separator-body"},[a("span",{staticClass:"separator-icon"}),a("span",{staticClass:"separator-info"},[t._v(t._s(t.$t("VIDEO.AUDIO_PARAMETER_CONFIGURATION")))])])]),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.ENCODING"))+" : ")]),a("Radio-group",{model:{value:t.template.Audio.Codec,callback:function(e){t.$set(t.template.Audio,"Codec",e)},expression:"template.Audio.Codec"}},t._l(t.audioCodecList,function(e){return e.container.includes(t.template.Container)?a("Radio",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.name))]):t._e()}))],1),"AAC"===t.template.Audio.Codec?a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.CODING_QUALITY"))+" : ")]),a("Radio-group",{model:{value:t.template.Audio.CodecOptions.Profile,callback:function(e){t.$set(t.template.Audio.CodecOptions,"Profile",e)},expression:"template.Audio.CodecOptions.Profile"}},t._l(t.audioProfileList,function(e){return a("Radio",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.name))])}))],1):t._e(),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.SAMPLE_RATE"))+"(HZ) : ")]),a("Radio-group",{model:{value:t.template.Audio.SampleRate,callback:function(e){t.$set(t.template.Audio,"SampleRate",e)},expression:"template.Audio.SampleRate"}},t._l(t.audioSampleRateList,function(e){return a("Radio",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.BIT_RATE"))+" : ")]),a("Radio-group",{model:{value:t.auxiliary.audioBitRate,callback:function(e){t.$set(t.auxiliary,"audioBitRate",e)},expression:"auxiliary.audioBitRate"}},[a("Radio",{attrs:{label:"auto"}},[t._v(t._s(t.$t("VIDEO.ADAPTIVE")))]),a("Radio",{attrs:{label:"value"}},[t._v(t._s(t.$t("VIDEO.USER_DEFINED")))])],1),a("Slider",{staticClass:"my-slider",attrs:{min:64,max:320,disabled:"auto"===t.auxiliary.audioBitRate},model:{value:t.auxiliary.audioBitRateValue,callback:function(e){t.$set(t.auxiliary,"audioBitRateValue",e)},expression:"auxiliary.audioBitRateValue"}}),a("InputNumber",{attrs:{min:64,max:320,disabled:"auto"===t.auxiliary.audioBitRate},model:{value:t.auxiliary.audioBitRateValue,callback:function(e){t.$set(t.auxiliary,"audioBitRateValue",e)},expression:"auxiliary.audioBitRateValue"}})],1),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("VIDEO.CHANNELS"))+" : ")]),a("Select",{staticClass:"line-width",model:{value:t.template.Audio.Channels,callback:function(e){t.$set(t.template.Audio,"Channels",e)},expression:"template.Audio.Channels"}},t._l(t.audioChannelsList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}))],1)]),a("div",{staticClass:"separator-line"}),a("div",{staticClass:"editBlock"},[t._m(0),a("p",{staticClass:"page-info"},[t._v("水印宽度或水印高度任意项为0都将使用图片本身大小")]),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v("水印宽度 : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:t.template.WatermarkConfig.Width,callback:function(e){t.$set(t.template.WatermarkConfig,"Width",e)},expression:"template.WatermarkConfig.Width"}}),a("span",[t._v("px")])],1)]),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v("水印高度 : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:t.template.WatermarkConfig.Height,callback:function(e){t.$set(t.template.WatermarkConfig,"Height",e)},expression:"template.WatermarkConfig.Height"}}),a("span",[t._v("px")])],1)]),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v(t._s(t.$t("STORAGE.WATERMARKER_POSITION"))+" : ")]),a("div",{staticClass:"gravity-selector"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.template.WatermarkConfig.Location,expression:"template.WatermarkConfig.Location"}],attrs:{type:"radio",value:"NorthWest",name:"location"},domProps:{checked:t._q(t.template.WatermarkConfig.Location,"NorthWest")},on:{change:function(e){t.$set(t.template.WatermarkConfig,"Location","NorthWest")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.template.WatermarkConfig.Location,expression:"template.WatermarkConfig.Location"}],attrs:{type:"radio",value:"North",name:"location"},domProps:{checked:t._q(t.template.WatermarkConfig.Location,"North")},on:{change:function(e){t.$set(t.template.WatermarkConfig,"Location","North")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.template.WatermarkConfig.Location,expression:"template.WatermarkConfig.Location"}],attrs:{type:"radio",value:"NorthEast",name:"location"},domProps:{checked:t._q(t.template.WatermarkConfig.Location,"NorthEast")},on:{change:function(e){t.$set(t.template.WatermarkConfig,"Location","NorthEast")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.template.WatermarkConfig.Location,expression:"template.WatermarkConfig.Location"}],attrs:{type:"radio",value:"West",name:"location"},domProps:{checked:t._q(t.template.WatermarkConfig.Location,"West")},on:{change:function(e){t.$set(t.template.WatermarkConfig,"Location","West")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.template.WatermarkConfig.Location,expression:"template.WatermarkConfig.Location"}],attrs:{type:"radio",value:"Center",name:"location"},domProps:{checked:t._q(t.template.WatermarkConfig.Location,"Center")},on:{change:function(e){t.$set(t.template.WatermarkConfig,"Location","Center")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.template.WatermarkConfig.Location,expression:"template.WatermarkConfig.Location"}],attrs:{type:"radio",value:"East",name:"location"},domProps:{checked:t._q(t.template.WatermarkConfig.Location,"East")},on:{change:function(e){t.$set(t.template.WatermarkConfig,"Location","East")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.template.WatermarkConfig.Location,expression:"template.WatermarkConfig.Location"}],attrs:{type:"radio",value:"SouthWest",name:"location"},domProps:{checked:t._q(t.template.WatermarkConfig.Location,"SouthWest")},on:{change:function(e){t.$set(t.template.WatermarkConfig,"Location","SouthWest")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.template.WatermarkConfig.Location,expression:"template.WatermarkConfig.Location"}],attrs:{type:"radio",value:"South",name:"location"},domProps:{checked:t._q(t.template.WatermarkConfig.Location,"South")},on:{change:function(e){t.$set(t.template.WatermarkConfig,"Location","South")}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.template.WatermarkConfig.Location,expression:"template.WatermarkConfig.Location"}],attrs:{type:"radio",value:"SouthEast",name:"location"},domProps:{checked:t._q(t.template.WatermarkConfig.Location,"SouthEast")},on:{change:function(e){t.$set(t.template.WatermarkConfig,"Location","SouthEast")}}})]),a("div",{staticClass:"padding-setting"},[a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v("水平偏移 : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:t.template.WatermarkConfig.LocationHOffset,callback:function(e){t.$set(t.template.WatermarkConfig,"LocationHOffset",e)},expression:"template.WatermarkConfig.LocationHOffset"}}),a("span",[t._v("px")])],1)]),a("div",{staticClass:"form-item"},[a("span",{staticClass:"form-label"},[t._v("垂直偏移 : ")]),a("div",{staticClass:"input-text-box"},[a("InputNumber",{model:{value:t.template.WatermarkConfig.LocationVOffset,callback:function(e){t.$set(t.template.WatermarkConfig,"LocationVOffset",e)},expression:"template.WatermarkConfig.LocationVOffset"}}),a("span",[t._v("px")])],1)])])])]),a("div",{staticClass:"separator-line"}),a("div",{staticClass:"editBlock"},[a("Button",{staticClass:"button-save",attrs:{type:"primary"},on:{click:t.beforeSubmit}},[t._v(t._s(t.$t("VIDEO.SAVE")))])],1)],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-separator"},[a("div",{staticClass:"separator-body"},[a("span",{staticClass:"separator-icon"}),a("span",{staticClass:"separator-info"},[t._v("水印参数配置")])])])}],n=(a("6b54"),a("28a5"),a("c5f6"),a("6762"),a("2fdb"),a("96cf"),a("3040")),s=a("ff66"),r=a("752a"),l={data:function(){return{videoDisabled:!1,template:_.cloneDeep(p),auxiliary:_.cloneDeep(d),containerList:["flv","gif","mp3","mp4","mpg","ts","wmv","wma","mp2"],videoCodecList:[{name:this.$t("VIDEO.UNALTERED"),value:"auto",container:["flac","flv","mp3","mp4","mpg","ts","wmv","wma","mp2"]},{name:"gif",value:"gif",container:["gif"]},{name:"H.264",value:"H.264",container:["flv","mp4","ts"]},{name:"H.265",value:"H.265",container:["mp4","ts"]},{name:"mpeg2",value:"mpeg2",container:["mpg"]},{name:"msmpeg4",value:"msmpeg4",container:["wmv"]}],videoProfileList:["baseline","main","high"],videoLevelList:["1","1b","1.1","1.2","1.3","2","2.1","2.2","3","3.1","3.2","4","4.1"],videoFrameRateList:[{name:this.$t("VIDEO.UNALTERED"),value:"auto"},{name:"10",value:"10"},{name:"15",value:"15"},{name:"23.97",value:"23.97"},{name:"24",value:"24"},{name:"25",value:"25"},{name:"29.97",value:"29.97"},{name:"30",value:"30"},{name:"50",value:"50"},{name:"60",value:"60"}],aspectRatioList:[{name:this.$t("VIDEO.UNALTERED"),value:"auto"},{name:"1:1",value:"1:1"},{name:"4:3",value:"4:3"},{name:"3:2",value:"3:2"},{name:"16:9",value:"16:9"}],audioCodecList:[{name:this.$t("VIDEO.UNALTERED"),value:"auto",container:["flac","flv","gif","mp4","mpg","ts","wmv"]},{name:"AAC",value:"AAC",container:["mp4","ts","flv"]},{name:"mp3",value:"mp3",container:["flv","mp4","ts","mp3"]},{name:"mp2",value:"mp2",container:["mpg","mp2"]},{name:"wmav2",value:"wmav2",container:["wmv","wma"]}],audioProfileList:[{name:this.$t("VIDEO.ADAPTIVE"),value:"auto"},{name:"AAC-LC",value:"AAC-LC"},{name:"HE-AAC",value:"HE-AAC"},{name:"HE-AACv2",value:"HE-AACv2"}],audioSampleRateList:[{name:this.$t("VIDEO.UNALTERED"),value:"auto"},{name:"22050",value:"22050"},{name:"32000",value:"32000"},{name:"44100",value:"44100"},{name:"48000",value:"48000"},{name:"96000",value:"96000"}],audioChannelsList:[{name:this.$t("VIDEO.UNALTERED"),value:"auto"},{name:"1",value:"1"},{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"},{name:"6",value:"6"},{name:"7",value:"7"},{name:"8",value:"8"},{name:"9",value:"9"},{name:"10",value:"10"},{name:"11",value:"11"},{name:"12",value:"12"},{name:"13",value:"13"},{name:"14",value:"14"},{name:"15",value:"15"},{name:"16",value:"16"}],ruleValidate:{Name:[{validator:this.validateName,trigger:"change"}],Description:[{validator:this.validateDiscription,trigger:"change"}],KeyframesMaxDist:[{validator:this.validateMaxDist,trigger:"change"}]}}},computed:{templateId:function(){return this.$route.params.id}},created:function(){this.readPreset()},methods:{beforeSubmit:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$refs["basicValidate"].validate(function(t){t?e.template.Video.FixedGOP?e.$refs["videoValidate"]&&e.$refs["videoValidate"].validate(function(t){t?e.createPreset():e.$Message.error(e.$t("PUBLIC.FORM_VALID_FAILED"))}):e.createPreset():e.$Message.error(e.$t("PUBLIC.FORM_VALID_FAILED"))});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),createPreset:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=c(this.template,this.auxiliary),t.prev=1,this.$Loading.start(),"none"!==this.templateId){t.next=9;break}return t.next=6,this.$http.post(Object(r["A"])("presets"),e);case 6:this.$Message.success(this.$t("VIDEO.CREATED_SUCCESSFULLY")),t.next=13;break;case 9:return delete e.Id,t.next=12,this.$http.put(Object(r["A"])("presets/".concat(this.templateId)),e);case 12:this.$Message.success(this.$t("VIDEO.UPDATED_SUCCESSFULLY"));case 13:this.$Loading.finish(),this.$router.push({name:"template"}),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](1),this.$Loading.error();case 20:case"end":return t.stop()}},t,this,[[1,17]])}));return function(){return t.apply(this,arguments)}}(),readPreset:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("none"===this.templateId){t.next=17;break}return t.prev=1,this.$Loading.start(),t.next=5,Object(s["e"])("readPreset",{Id:this.templateId});case 5:e=t.sent,this.template=e.Preset,this.template.Video.FixedGOP="true"===e.Preset.Video.FixedGOP,this.template.FastStart="true"===e.Preset.FastStart,this.template.WatermarkConfig=e.Preset.WatermarkConfig?e.Preset.WatermarkConfig:m,this.auxiliary=u(e.Preset),this.$Loading.finish(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),this.$Loading.error();case 17:case"end":return t.stop()}},t,this,[[1,14]])}));return function(){return t.apply(this,arguments)}}(),containerChange:function(t){this.template.Video=_.cloneDeep(p.Video),this.template.Audio=_.cloneDeep(p.Audio),this.auxiliary.resolution="auto",this.auxiliary.audioBitRate="auto",v.includes(t)?(this.template.Video.Codec="auto",this.auxiliary.videoBitRate="auto",this.template.Video.FrameRate="auto",this.videoDisabled=!0,this.template.Audio.Codec=f[this.template.Container]):(this.videoDisabled=!1,this.template.Audio.Codec="auto",this.template.Video.Codec="gif"===t?"gif":"auto")},validateDiscription:function(t,e,a){new TextEncoder("utf-8").encode(e).length>100?a(new Error(this.$t("VIDEO.TEMPLATE_DESCRIPTION_CHAR_NUMBER"))):a()},validateName:function(t,e,a){e?new TextEncoder("utf-8").encode(e).length>20?a(new Error(this.$t("VIDEO.TEMPLATE_NAME_CHAR_NUMBER"))):a():a(new Error(this.$t("VIDEO.TEMPLATE_NAME_REQUIRED")))},validateMaxDist:function(t,e,a){Number(e)?e<1?a(new Error(this.$t("PUBLIC.NOT_LESS",{num:"1"}))):e>1e5?a(new Error(this.$t("PUBLIC.NOT_GREATER",{num:"100000"}))):a():a(new Error(this.$t("PUBLIC.NUM_PLEASE")))}}},u=function(t){var e=_.cloneDeep(d);if("auto"===t.Video.BitRate?e.videoBitRate="auto":(e.videoBitRate="value",e.videoBitRateValue=parseInt(t.Video.BitRate)),"auto"===t.Video.Resolution)e.resolution="auto";else{var a=t.Video.Resolution.split("x");"-2"===a[0]?(e.resolution="only_height",e.only_height=parseInt(a[1])):"-2"===a[1]?(e.resolution="only_width",e.only_width=parseInt(a[0])):(e.resolution="value",e.width=a[0],e.height=a[1])}return"auto"===t.Audio.BitRate?e.audioBitRate="auto":(e.audioBitRate="value",e.audioBitRateValue=parseInt(t.Audio.BitRate)),e},c=function(t,e){var a=_.cloneDeep(t);return"auto"!==e.videoBitRate?a.Video.BitRate=e.videoBitRateValue.toString():a.Video.BitRate=e.videoBitRate,"auto"!==e.resolution?"only_width"===e.resolution?a.Video.Resolution="".concat(e.only_width,"x-2"):"only_height"===e.resolution?a.Video.Resolution="-2x".concat(e.only_height):a.Video.Resolution="".concat(e.width,"x").concat(e.height):a.Video.Resolution=e.resolution,"auto"!==e.audioBitRate?a.Audio.BitRate=e.audioBitRateValue.toString():a.Audio.BitRate=e.audioBitRate,a.FastStart=t.FastStart.toString(),a.Video.FixedGOP=t.Video.FixedGOP.toString(),a.Video.KeyframesMaxDist=t.Video.KeyframesMaxDist.toString(),a.WatermarkConfig.Height=t.WatermarkConfig.Height.toString(),a.WatermarkConfig.Width=t.WatermarkConfig.Width.toString(),a.WatermarkConfig.LocationHOffset=t.WatermarkConfig.LocationHOffset.toString(),a.WatermarkConfig.LocationVOffset=t.WatermarkConfig.LocationVOffset.toString(),a},d={videoBitRate:"auto",videoBitRateValue:1,resolution:"auto",width:"",height:"",only_width:1,only_height:1,audioBitRate:"auto",audioBitRateValue:64},m={Height:"0",Width:"0",Location:"NorthEast",LocationHOffset:"0",LocationVOffset:"0"},p={Name:"",Description:"",FastStart:!1,Container:"mp4",Audio:{Codec:"auto",CodecOptions:{Profile:"auto"},SampleRate:"auto",BitRate:"64",Channels:"auto"},Video:{Codec:"auto",CodecOptions:{Profile:"baseline",Level:"1"},KeyframesMaxDist:"1",FixedGOP:!1,BitRate:"64",FrameRate:"auto",Resolution:"auto",AspectRatio:"auto"},WatermarkConfig:m},v=["flac","mp3","wma","mp2"],f={mp3:"mp3",wma:"wmav2",mp2:"mp2"},C=l,h=(a("f93d"),a("2877")),E=Object(h["a"])(C,i,o,!1,null,"72388321",null);E.options.__file="TemplateEdit.vue";e["default"]=E.exports},9093:function(t,e,a){var i=a("ce10"),o=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},aa77:function(t,e,a){var i=a("5ca1"),o=a("be13"),n=a("79e5"),s=a("fdef"),r="["+s+"]",l="​",u=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),d=function(t,e,a){var o={},r=n(function(){return!!s[t]()||l[t]()!=l}),u=o[t]=r?e(m):s[t];a&&(o[a]=u),i(i.P+i.F*r,"String",o)},m=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=d},b887:function(t,e,a){},c5f6:function(t,e,a){"use strict";var i=a("7726"),o=a("69a8"),n=a("2d95"),s=a("5dbc"),r=a("6a99"),l=a("79e5"),u=a("9093").f,c=a("11e9").f,d=a("86cc").f,m=a("aa77").trim,p="Number",v=i[p],f=v,C=v.prototype,_=n(a("2aeb")(C))==p,h="trim"in String.prototype,E=function(t){var e=r(t,!1);if("string"==typeof e&&e.length>2){e=h?e.trim():m(e,3);var a,i,o,n=e.charCodeAt(0);if(43===n||45===n){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(var s,l=e.slice(2),u=0,c=l.length;u<c;u++)if(s=l.charCodeAt(u),s<48||s>o)return NaN;return parseInt(l,i)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof v&&(_?l(function(){C.valueOf.call(a)}):n(a)!=p)?s(new f(E(e)),a,v):E(e)};for(var g,b=a("9e1e")?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;b.length>R;R++)o(f,g=b[R])&&!o(v,g)&&d(v,g,c(f,g));v.prototype=C,C.constructor=v,a("2aba")(i,p,v)}},f93d:function(t,e,a){"use strict";var i=a("b887"),o=a.n(i);o.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);