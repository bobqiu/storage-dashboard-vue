(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-857d"],{"0a49":function(e,t,n){var r=n("9b43"),s=n("626a"),i=n("4bf8"),a=n("9def"),o=n("cd1c");e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,d=6==e,h=5==e||d,f=t||o;return function(t,o,p){for(var g,m,v=i(t),b=s(v),w=r(o,p,3),k=a(b.length),A=0,y=n?f(t,k):c?f(t,0):void 0;k>A;A++)if((h||A in b)&&(g=b[A],m=w(g,A,v),e))if(n)y[A]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return A;case 2:y.push(g)}else if(l)return!1;return d?-1:u||l?l:y}}},1169:function(e,t,n){var r=n("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"3b2b":function(e,t,n){var r=n("7726"),s=n("5dbc"),i=n("86cc").f,a=n("9093").f,o=n("aae3"),c=n("0bfb"),u=r.RegExp,l=u,d=u.prototype,h=/a/g,f=/a/g,p=new u(h)!==h;if(n("9e1e")&&(!p||n("79e5")(function(){return f[n("2b4c")("match")]=!1,u(h)!=h||u(f)==f||"/a/i"!=u(h,"i")}))){u=function(e,t){var n=this instanceof u,r=o(e),i=void 0===t;return!n&&r&&e.constructor===u&&i?e:s(p?new l(r&&!i?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&i?c.call(e):t),n?this:d,u)};for(var g=function(e){e in u||i(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=a(l),v=0;m.length>v;)g(m[v++]);d.constructor=u,u.prototype=d,n("2aba")(r,"RegExp",u)}n("7a56")("RegExp")},"4b3f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bsc-login",on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.loginSubmit("loginForm")}}},[r("div",{staticClass:"card-login"},[e.isLogin?r("div",{staticClass:"tab-login"},[r("div",{staticClass:"header"},[r("img",{attrs:{src:n("cf05"),alt:"logo"}}),r("span",[e._v("Language")]),r("div",{staticClass:"select-language"},[r("div",{staticClass:"border-triangle-external"}),r("div",{staticClass:"border-triangle"}),r("span",{on:{click:function(t){e.changeLang("en")}}},[e._v("English")]),r("span",{on:{click:function(t){e.changeLang("cn")}}},[e._v("中文")])])]),r("div",{staticClass:"body"},[e._m(0),r("form",{ref:"loginForm",staticClass:"form-login",model:{value:e.loginForm,callback:function(t){e.loginForm=t},expression:"loginForm"}},[r("div",{staticClass:"email"},[r("span",[r("Icon",{attrs:{type:"email",size:18}})],1),r("input",{directives:[{name:"bfocus",rawName:"v-bfocus"},{name:"model",rawName:"v-model",value:e.loginForm.username,expression:"loginForm.username"}],attrs:{type:"text",required:"",autofocus:"",placeholder:"email / username"},domProps:{value:e.loginForm.username},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"username",t.target.value)}}})]),r("div",{staticClass:"password"},[r("span",[r("Icon",{attrs:{type:"unlocked",size:18}})],1),r("input",{directives:[{name:"bfocus",rawName:"v-bfocus"},{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],staticClass:"input-password",attrs:{oninvalid:"setCustomValidity('Requires 6 characters')",onchange:"try{setCustomValidity('')}catch(e){}",type:"password",required:"",minlength:"6",placeholder:"password"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}}),r("span",{class:{showPw:e.showPassword},on:{click:e.showPw}},[r("Icon",{attrs:{type:"eye",size:18}})],1)]),r("div",{staticClass:"keep"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.keepEmail,expression:"keepEmail"}],attrs:{type:"checkbox",id:"bsc-checkbox"},domProps:{checked:Array.isArray(e.keepEmail)?e._i(e.keepEmail,null)>-1:e.keepEmail},on:{click:e.keep,change:function(t){var n=e.keepEmail,r=t.target,s=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&(e.keepEmail=n.concat([i])):a>-1&&(e.keepEmail=n.slice(0,a).concat(n.slice(a+1)))}else e.keepEmail=s}}}),r("label",{attrs:{for:"bsc-checkbox"}},[r("span"),e._v(e._s(e.$t("LOGIN.KEEP_EMAIL")))])]),r("div",{staticClass:"login"},[r("a",{on:{click:function(t){t.stopPropagation(),e.loginSubmit("loginForm")}}},[e._v(e._s(e.$t("LOGIN.BUTTON_LOGIN")))])]),e._m(1)])]),r("div",{staticClass:"footer"},[e._v("\n        Copyright © 2015-2017 BaishanCloud. All rights Reserved.\n      ")])]):e._e(),e.isLogin?e._e():r("div",{staticClass:"tab-register"},[r("div",{staticClass:"header"},[r("img",{attrs:{src:n("cf05"),alt:"logo"}}),e.subUserList.length>0?r("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"search here"},on:{"on-change":e.handleSearchSubUser},model:{value:e.searchSubUserInput,callback:function(t){e.searchSubUserInput=t},expression:"searchSubUserInput"}}):e._e(),r("a",{on:{click:e.toUserMange}},[e._v(e._s(e.$t("LOGIN.USER_MANAGE")))])],1),r("div",{staticClass:"wrap"},[r("div",{staticClass:"body"},[e.subUserList.length>0?r("div",{staticClass:"card-wrap"},e._l(e.searchedSubUserList,function(t){return r("div",{key:t.ts,staticClass:"card-user",on:{click:function(n){e.selectSubUser(t)}}},[r("span",{staticClass:"info"},[r("Icon",{attrs:{type:"person"}}),e._v(" "+e._s(t.username))],1),r("span",{staticClass:"info"},[r("Icon",{attrs:{type:"briefcase"}}),e._v(" "+e._s(t.company))],1),r("span",{directives:[{name:"show",rawName:"v-show",value:t.perm&&t.perms.includes("SUB"),expression:"user.perm && user.perms.includes('SUB')"}],staticClass:"icon"},[r("Icon",{attrs:{type:"star"}})],1)])})):e._e(),e.subUserList.length<=0?r("div",{staticClass:"warning",on:{click:function(t){e.toUserMange()}}},[e._v("暂无绑定用户,\n            "),r("span",[e._v("点击绑定或新增用户")])]):e._e()])])])])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"slogn"},[e._v("WELCOME TO"),n("br"),e._v("THE BAISHANCLOUD DIGITAL WORLD")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register dn"},[e._v("\n            没有账号？\n            "),n("a",[e._v("立即申请")])])}],i=(n("7f7f"),n("7514"),n("3b2b"),n("28a5"),n("c93e")),a=(n("96cf"),n("3040")),o=(n("ac6a"),n("456d"),n("7ded")),c=n("00d0"),u=n("752a"),l=n("7340"),d=n("4360"),h=n("2b0e"),f={directives:{bfocus:{inserted:function(e){$(e).on("focus",function(){_.each($(e).parent().parent().children(),function(e){$(e).hasClass("input-focus")&&$(e).removeClass("input-focus")}),$(e).parent().addClass("input-focus")})}}},data:function(){return{lang:d["a"].state.lang,selectedCustomer:"",keepEmail:JSON.parse(localStorage.getItem("keepEmail"))||!1,loginForm:{username:localStorage.getItem("loginEmail"),password:""},showPassword:!1,searchSubUserInput:""}},computed:{subUserList:{get:function(){return this.$store.state.users||[]},set:function(){}},isLogin:{get:function(){return 0===Object.keys(this.$store.state.current).length||"manage"===!this.$store.getters.mode},set:function(){}},searchedSubUserList:{get:function(){return this.$store.state.users||[]},set:function(){}}},mounted:function(){"True"===window.dashboard_conf.onlineMode&&this.saveToken()},methods:{saveToken:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.query.ticket||this.$store.state.token,!t){e.next=8;break}return e.next=4,this.$store.dispatch("setToken",t);case 4:this.$http.defaults.headers.common["Authorization"]=t,this.getUserInfoByToken(),e.next=9;break;case 8:window.location=Object(c["a"])();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getUserInfoByToken:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])();case 2:t=e.sent,this.setBaseInfo(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),loginSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.formValid(t)?(this.$Loading.start(),this.keepEmail?localStorage.setItem("loginEmail",this.loginForm.username):localStorage.setItem("loginEmail",""),Object(o["d"])(Object(i["a"])({},this.loginForm)).then(function(e){n.setBaseInfo(e),n.$Loading.finish()},function(e){n.$Loading.error(),n.$Message.error(e)})):this.$Message.error(this.$t("LOGIN.VALIDATE_FAILED"));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),setBaseInfo:function(e){var t=this;this.$store.dispatch("setBaseInfo",{current:e,token:e.token,perms:e.perms}).then(function(){Object(l["a"])("LIST_USERS")?t.adminMode(e):Object(l["a"])("OPS")?t.toIndex(e,"/system/group"):t.toIndex(e)})},adminMode:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("setToken",t.token);case 2:return this.$http.defaults.headers.common["Authorization"]=t.token,e.next=5,this.$http.get(u["c"]);case 5:n=e.sent,n.length>0?(this.subUserList=n,this.searchedSubUserList=n,this.isLogin=!1,this.$store.dispatch("setBaseInfo",{users:n})):this.switchUser(t,"user");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),handleSearchSubUser:function(){if(this.searchSubUserInput){var e=this.searchSubUserInput.split(""),t=new RegExp(e.join(".*"));this.searchedSubUserList=this.subUserList.filter(function(e){return t.test(e.username)||t.test(e.company)})}else this.searchedSubUserList=this.subUserList},selectSubUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.$store.state,e.next=3,this.$store.dispatch("setBaseInfo",{current:t,manager:[n.current]});case 3:return e.next=5,Object(o["b"])(t.username);case 5:r=e.sent,this.switchUser({perms:t.perms,keys:r});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),toIndex:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n,r,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"/overview",e.next=3,this.$store.dispatch("setUserInfo",t);case 3:return e.next=5,this.$store.dispatch("setToken",t.token);case 5:return this.$http.defaults.headers.common["Authorization"]=t.token,e.next=8,this.$store.dispatch("cleanState");case 8:r=this.$route.query.redirect,r?this.$router.push(r):this.$router.push(n),h["default"].config.lang=this.lang;case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),switchUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n,r,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"/overview",e.next=3,this.$store.dispatch("setBaseInfo",t);case 3:return e.next=5,this.$store.dispatch("cleanState");case 5:r=this.$route.query.redirect,r?this.$router.push(r):this.$router.push(n),h["default"].config.lang=this.lang;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),changeLang:function(e){h["default"].config.lang=e,this.lang=e,sessionStorage.removeItem("lang"),sessionStorage.setItem("lang",e)},refreshMenu:function(){this.$store.dispatch("refreshMenu")},showPw:function(){var e=$(".input-password")[0];"password"===e.type?(this.showPassword=!0,e.type="text"):(this.showPassword=!1,e.type="password")},formValid:function(e){var t=!0;return _.each($(this.$refs[e]).find("input"),function(e){e.validity.valid||(t=!1)}),t},keep:function(){localStorage.setItem("keepEmail",this.keepEmail)},toUserMange:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["b"])(this.$store.state.current.username);case 2:return t=e.sent,e.next=5,this.$store.dispatch("setBaseInfo",{keys:t});case 5:return e.next=7,this.$store.dispatch("cleanState");case 7:h["default"].config.lang=this.lang,this.$router.push("user");case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},p=f,g=(n("6fff"),n("2877")),m=Object(g["a"])(p,r,s,!1,null,"57f202b3",null);m.options.__file="Login.vue";t["default"]=m.exports},"6fff":function(e,t,n){"use strict";var r=n("d25b"),s=n.n(r);s.a},7514:function(e,t,n){"use strict";var r=n("5ca1"),s=n("0a49")(5),i="find",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},"752a":function(e,t,n){"use strict";n.d(t,"t",function(){return l}),n.d(t,"j",function(){return d}),n.d(t,"u",function(){return h}),n.d(t,"c",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return g}),n.d(t,"h",function(){return m}),n.d(t,"v",function(){return v}),n.d(t,"l",function(){return b}),n.d(t,"p",function(){return w}),n.d(t,"q",function(){return k}),n.d(t,"s",function(){return A}),n.d(t,"r",function(){return y}),n.d(t,"o",function(){return U}),n.d(t,"n",function(){return x}),n.d(t,"m",function(){return S}),n.d(t,"k",function(){return I}),n.d(t,"e",function(){return C}),n.d(t,"a",function(){return L}),n.d(t,"b",function(){return O}),n.d(t,"i",function(){return E}),n.d(t,"d",function(){return R}),n.d(t,"y",function(){return F}),n.d(t,"A",function(){return M}),n.d(t,"x",function(){return B}),n.d(t,"z",function(){return V}),n.d(t,"w",function(){return _});var r=n("dd1f"),s="".concat(location.protocol,"//"),i="/v2/",a="/2012-09-25/",o=function(e){return s+r["a"].apiHost+i+e},c=function(e){return s+r["a"].transcoderHOST+a+e},u=function(e){return s+r["a"].imgxHOST+e},l=o("superuser/redirect/bucket"),d=o("node/list"),h=(o("list/partition"),o("user/list/sub")),f=(o("user/create/sub_user"),o("user/list/sub_acl"),o("user/update/sub_acl"),o("user/create/user"),o("user/list/bound_user")),p=(o("user/list/user"),o("user/bind/user"),o("user/unbind/user"),o("group/list")),g=o("group/move"),m=o("group/read_only"),v=o("traffic/list"),b=o("partition/used/stats"),w=o("partition/used/detail"),k=o("partition/used/list"),A=o("partition/used/set"),y=o("partition/used/move"),U=o("partition/used/delete"),x=o("partition/unused/list"),S=o("partition/unused/add"),I=o("partition/deleted/list"),C=o("retrieve"),L=o("access"),O=o("user/add/service"),E=u("/image-example/"),R=o("custom_domain"),F=function(e){return o("bill/transcode".concat(e))},M=function(e){return c(e)},B=function(e){return o("bill/storage_old".concat(e))},V=function(e){return o("bill/storage".concat(e))},_=function(e){return o("bill/storage_bandwidth".concat(e))}},9093:function(e,t,n){var r=n("ce10"),s=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,s)}},cd1c:function(e,t,n){var r=n("e853");e.exports=function(e,t){return new(r(e))(t)}},cf05:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAAAkCAMAAADsIhWcAAAAq1BMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Nr6iZAAAAOHRSTlMAkLHR8HADUIChQDAFwB/64fYV67iaegrmDmTYhtyLRTobrRColXVgTVgnI2gsy1PGxEk1bFwuEnfx42MAAAY0SURBVFjD1ZjpcpswFIUxmwFjYzCLF7zG++44ac77P1klXWHAkJm24/7INx1HBAP6kK50GuWvcV2ljGn+yWWmKy83C4evZ4qMWPmOE3Av/6aLZtbcGjkXdnyM0yhsi1NttPiPN2jy0FH+BzYyRvXdbzabEbxLk7OvUVCR0xanGP78bV5SSDqdzhU79qm8msTHg7tSQwMFLH5sZQod6Ky5s3I27Pi9OUaguLeeIxWsJXQ7RsbLFT6R06hXONuSca1CFY13cwjPIAUNjLWqqj3c2OfLFULk9NxaBeMx5/5EYa5pPjSNjYYfk8J+hlEr+W+1MEeR939QaJfYKB1dB3S9pc3mxVoIWLGPsTKMl1usUWRZqzBpSdQ6BRQR5975fDfgrXOF7nqYz9YXo6GIP/j7cuZuBhCTZSDmC64z5eJrCSksRgA+2jAcx2lj/WKDE8oM6xQ0VdL9phYGXSwUZWPTBuaA4W2Vk5hIgav0gF7cueDKfD397cUKE5Rp/1M5LzAeKEEfE7ETa/0RLv3hRxqpOoCT8jkTW9sNVjDC8cUGZp/2NPaGbxB0/kHBgs63vLsHsS3gQwP7JPraIdudDzr4aBGvDhczPhl8Chl/oGCzOd1H7Dg7ruBOgPXdmTabITx2JzNymcI8NXbO/loMGIkN+L9erUDhYizaSxqQGgVfl3ikkMMVOh5yep1saytmpBNTOKV9eOyfPaOKeW24sHg7G/p7VaGvSXT+1WbjgQ2df2HcXtqNNDY2lzPWNQohEO4ALPeu0aOBfnW4OFAg7tUv2x/tS9aM25vSqaD9lBYOUxpQTR5HGi+SY2jvzXAiBigZ2hQBXhoubo/XLUPGD4LCxWOZu0OwVX4QFC68x14zkiHjB0HhIl+p4yxk/Bh+QdB8nlhD5ccwqZRvW4aMn4IMFyslZ1MXMoYqZ5lO5THbht+ptVUb4hfReXRdiW03UuVioKp3WiKazSa9o5XdMGVjT2lwddMWQ34ysO3CI5ON3Q4nM/nsRtaJmC3vrB+LyHLMarggCiGjPmyroi97iOjGMaDRYD7mXzcLI3J+ujoA2lZYy5ANhz9KhWB04FELrTzz9CEIA0rJWSdUkSXomllNuGChJ/kuZDQQvr297VNZJBYYk1yhBUSHpBXCO1QVmkI9U/A7DwUzBCKnZfQwTkoKMw99o+U0PGhJVeHGclnkw79XwoUDYF0fMuhqzhiRkv2JpW8+FNbwXZ7kPH9TVViA4QXU8xDhQ2ErH3jyEJcUzujOpXxcUaCe7HvQKuEiAqAVQsbqSYFOie7NgDQFpg+Fo/wf98GsTqQvDwvLwwf1fDvCZ6awQJdm9HEXFBVOwGeWHMa1ClSy7lO4SHQwfn0TMhp8+KbDK84DYTvme6D9UAj6wDmV8bOLlSMghSMfARVnUmg66AVSoU9DSmQKdEUiCxjofKMwAAZP4WIHzqQUMqrlHM6pPi2+B+rJo5w7C49bp4FQkJDClU+dC7AnBeZvk4ILrGsVUnTz1WZaoyDoYfAULkLQ/K4NGfw2hmGkbfhM7CKm3gHYSQXOYDsZMYk9V9BUAVOgrwnrVCoM+pjSKHiIaxUs9HMFJ1dYlRR0DMrhIvAgmBZDRrWcbT6/VFx5+4bwoRB8ifLzsXiuBYsGK0KXFHgVdxOhoGW5ZrsbFBV2QEAtA5grVrY6LmGTglQelMOFAcIuhoyqwhY4MdujEsd8ogZS4YpYGo7LCrSGbS2+AjikwLsyEQoT+NTVG9SiQuDJGWZqvPebLISOYeUKKeCWw8UZhJ/UhgxSEJcEH/C+vjwvePNgSIUI/YAeGZYVqOsjzISKVAh6ns8VDh7aA1pcdqVFNYLPZ4M7Ea9x7mFFVY5WpmAePTEVCuGig4xdIWQET7VgqYDKbFV+uw9lAU0qzHvorrcbZn55UlihyxfJFZ9QLinQ7R1acHorftPQ5D1YNgRfSnIGwrQxlvXY4MudFQI2DXRjtewCvROTLISLITIWhZDxWVmR/Ggw4P28Ame+8wSyFvZtGtFKwOBlHAM6L+sWKTBCUlDeRTV6UUIv8ZHOklQXi4thivlk+eLZE1coCPRo/td5kKg9Qz9c15Uts3yGqD1Fl8lWxuNE4XKXUe3IbzxvWKZkULwrAAAAAElFTkSuQmCC"},d25b:function(e,t,n){},e853:function(e,t,n){var r=n("d3f4"),s=n("1169"),i=n("2b4c")("species");e.exports=function(e){var t;return s(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!s(t.prototype)||(t=void 0),r(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}}}]);